<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>&#20351;&#29992;Log4j</h4>
    <div class="x-wiki-info">
    	<span>Reads: 230283</span>
    	<a href="/manage/wiki/wikipage_update?id=1264739436350112" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<p>&#21069;&#38754;&#20171;&#32461;&#20102;Commons Logging&#65292;&#21487;&#20197;&#20316;&#20026;&#8220;&#26085;&#24535;&#25509;&#21475;&#8221;&#26469;&#20351;&#29992;&#12290;&#32780;&#30495;&#27491;&#30340;&#8220;&#26085;&#24535;&#23454;&#29616;&#8221;&#21487;&#20197;&#20351;&#29992;Log4j&#12290;</p>
<p>Log4j&#26159;&#19968;&#31181;&#38750;&#24120;&#27969;&#34892;&#30340;&#26085;&#24535;&#26694;&#26550;&#65292;&#26368;&#26032;&#29256;&#26412;&#26159;2.x&#12290;</p>
<p>Log4j&#26159;&#19968;&#20010;&#32452;&#20214;&#21270;&#35774;&#35745;&#30340;&#26085;&#24535;&#31995;&#32479;&#65292;&#23427;&#30340;&#26550;&#26500;&#22823;&#33268;&#22914;&#19979;&#65306;</p>
<pre><code class="language-ascii">log.info("User signed in.");
 &#9474;
 &#9474;   &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
 &#9500;&#9472;&#9472;&gt;&#9474; Appender &#9474;&#9472;&#9472;&#9472;&gt;&#9474;  Filter  &#9474;&#9472;&#9472;&#9472;&gt;&#9474;  Layout  &#9474;&#9472;&#9472;&#9472;&gt;&#9474; Console  &#9474;
 &#9474;   &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
 &#9474;
 &#9474;   &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
 &#9500;&#9472;&#9472;&gt;&#9474; Appender &#9474;&#9472;&#9472;&#9472;&gt;&#9474;  Filter  &#9474;&#9472;&#9472;&#9472;&gt;&#9474;  Layout  &#9474;&#9472;&#9472;&#9472;&gt;&#9474;   File   &#9474;
 &#9474;   &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
 &#9474;
 &#9474;   &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
 &#9492;&#9472;&#9472;&gt;&#9474; Appender &#9474;&#9472;&#9472;&#9472;&gt;&#9474;  Filter  &#9474;&#9472;&#9472;&#9472;&gt;&#9474;  Layout  &#9474;&#9472;&#9472;&#9472;&gt;&#9474;  Socket  &#9474;
     &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</code></pre>
<p>&#24403;&#25105;&#20204;&#20351;&#29992;Log4j&#36755;&#20986;&#19968;&#26465;&#26085;&#24535;&#26102;&#65292;Log4j&#33258;&#21160;&#36890;&#36807;&#19981;&#21516;&#30340;Appender&#25226;&#21516;&#19968;&#26465;&#26085;&#24535;&#36755;&#20986;&#21040;&#19981;&#21516;&#30340;&#30446;&#30340;&#22320;&#12290;&#20363;&#22914;&#65306;</p>
<ul>
<li>console&#65306;&#36755;&#20986;&#21040;&#23631;&#24149;&#65307;</li>
<li>file&#65306;&#36755;&#20986;&#21040;&#25991;&#20214;&#65307;</li>
<li>socket&#65306;&#36890;&#36807;&#32593;&#32476;&#36755;&#20986;&#21040;&#36828;&#31243;&#35745;&#31639;&#26426;&#65307;</li>
<li>jdbc&#65306;&#36755;&#20986;&#21040;&#25968;&#25454;&#24211;</li>
</ul>
<p>&#22312;&#36755;&#20986;&#26085;&#24535;&#30340;&#36807;&#31243;&#20013;&#65292;&#36890;&#36807;Filter&#26469;&#36807;&#28388;&#21738;&#20123;log&#38656;&#35201;&#34987;&#36755;&#20986;&#65292;&#21738;&#20123;log&#19981;&#38656;&#35201;&#34987;&#36755;&#20986;&#12290;&#20363;&#22914;&#65292;&#20165;&#36755;&#20986;<code>ERROR</code>&#32423;&#21035;&#30340;&#26085;&#24535;&#12290;</p>
<p>&#26368;&#21518;&#65292;&#36890;&#36807;Layout&#26469;&#26684;&#24335;&#21270;&#26085;&#24535;&#20449;&#24687;&#65292;&#20363;&#22914;&#65292;&#33258;&#21160;&#28155;&#21152;&#26085;&#26399;&#12289;&#26102;&#38388;&#12289;&#26041;&#27861;&#21517;&#31216;&#31561;&#20449;&#24687;&#12290;</p>
<p>&#19978;&#36848;&#32467;&#26500;&#34429;&#28982;&#22797;&#26434;&#65292;&#20294;&#25105;&#20204;&#22312;&#23454;&#38469;&#20351;&#29992;&#30340;&#26102;&#20505;&#65292;&#24182;&#19981;&#38656;&#35201;&#20851;&#24515;Log4j&#30340;API&#65292;&#32780;&#26159;&#36890;&#36807;&#37197;&#32622;&#25991;&#20214;&#26469;&#37197;&#32622;&#23427;&#12290;</p>
<p>&#20197;XML&#37197;&#32622;&#20026;&#20363;&#65292;&#20351;&#29992;Log4j&#30340;&#26102;&#20505;&#65292;&#25105;&#20204;&#25226;&#19968;&#20010;<code>log4j2.xml</code>&#30340;&#25991;&#20214;&#25918;&#21040;<code>classpath</code>&#19979;&#23601;&#21487;&#20197;&#35753;Log4j&#35835;&#21462;&#37197;&#32622;&#25991;&#20214;&#24182;&#25353;&#29031;&#25105;&#20204;&#30340;&#37197;&#32622;&#26469;&#36755;&#20986;&#26085;&#24535;&#12290;&#19979;&#38754;&#26159;&#19968;&#20010;&#37197;&#32622;&#25991;&#20214;&#30340;&#20363;&#23376;&#65306;</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Configuration&gt;
	&lt;Properties&gt;
        &lt;!-- &#23450;&#20041;&#26085;&#24535;&#26684;&#24335; --&gt;
		&lt;Property name="log.pattern"&gt;%d{MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36}%n%msg%n%n&lt;/Property&gt;
        &lt;!-- &#23450;&#20041;&#25991;&#20214;&#21517;&#21464;&#37327; --&gt;
		&lt;Property name="file.err.filename"&gt;log/err.log&lt;/Property&gt;
		&lt;Property name="file.err.pattern"&gt;log/err.%i.log.gz&lt;/Property&gt;
	&lt;/Properties&gt;
    &lt;!-- &#23450;&#20041;Appender&#65292;&#21363;&#30446;&#30340;&#22320; --&gt;
	&lt;Appenders&gt;
        &lt;!-- &#23450;&#20041;&#36755;&#20986;&#21040;&#23631;&#24149; --&gt;
		&lt;Console name="console" target="SYSTEM_OUT"&gt;
            &lt;!-- &#26085;&#24535;&#26684;&#24335;&#24341;&#29992;&#19978;&#38754;&#23450;&#20041;&#30340;log.pattern --&gt;
			&lt;PatternLayout pattern="${log.pattern}" /&gt;
		&lt;/Console&gt;
        &lt;!-- &#23450;&#20041;&#36755;&#20986;&#21040;&#25991;&#20214;,&#25991;&#20214;&#21517;&#24341;&#29992;&#19978;&#38754;&#23450;&#20041;&#30340;file.err.filename --&gt;
		&lt;RollingFile name="err" bufferedIO="true" fileName="${file.err.filename}" filePattern="${file.err.pattern}"&gt;
			&lt;PatternLayout pattern="${log.pattern}" /&gt;
			&lt;Policies&gt;
                &lt;!-- &#26681;&#25454;&#25991;&#20214;&#22823;&#23567;&#33258;&#21160;&#20999;&#21106;&#26085;&#24535; --&gt;
				&lt;SizeBasedTriggeringPolicy size="1 MB" /&gt;
			&lt;/Policies&gt;
            &lt;!-- &#20445;&#30041;&#26368;&#36817;10&#20221; --&gt;
			&lt;DefaultRolloverStrategy max="10" /&gt;
		&lt;/RollingFile&gt;
	&lt;/Appenders&gt;
	&lt;Loggers&gt;
		&lt;Root level="info"&gt;
            &lt;!-- &#23545;info&#32423;&#21035;&#30340;&#26085;&#24535;&#65292;&#36755;&#20986;&#21040;console --&gt;
			&lt;AppenderRef ref="console" level="info" /&gt;
            &lt;!-- &#23545;error&#32423;&#21035;&#30340;&#26085;&#24535;&#65292;&#36755;&#20986;&#21040;err&#65292;&#21363;&#19978;&#38754;&#23450;&#20041;&#30340;RollingFile --&gt;
			&lt;AppenderRef ref="err" level="error" /&gt;
		&lt;/Root&gt;
	&lt;/Loggers&gt;
&lt;/Configuration&gt;
</code></pre>
<p>&#34429;&#28982;&#37197;&#32622;Log4j&#27604;&#36739;&#32321;&#29712;&#65292;&#20294;&#19968;&#26086;&#37197;&#32622;&#23436;&#25104;&#65292;&#20351;&#29992;&#36215;&#26469;&#23601;&#38750;&#24120;&#26041;&#20415;&#12290;&#23545;&#19978;&#38754;&#30340;&#37197;&#32622;&#25991;&#20214;&#65292;&#20961;&#26159;<code>INFO</code>&#32423;&#21035;&#30340;&#26085;&#24535;&#65292;&#20250;&#33258;&#21160;&#36755;&#20986;&#21040;&#23631;&#24149;&#65292;&#32780;<code>ERROR</code>&#32423;&#21035;&#30340;&#26085;&#24535;&#65292;&#19981;&#20294;&#20250;&#36755;&#20986;&#21040;&#23631;&#24149;&#65292;&#36824;&#20250;&#21516;&#26102;&#36755;&#20986;&#21040;&#25991;&#20214;&#12290;&#24182;&#19988;&#65292;&#19968;&#26086;&#26085;&#24535;&#25991;&#20214;&#36798;&#21040;&#25351;&#23450;&#22823;&#23567;&#65288;1MB&#65289;&#65292;Log4j&#23601;&#20250;&#33258;&#21160;&#20999;&#21106;&#26032;&#30340;&#26085;&#24535;&#25991;&#20214;&#65292;&#24182;&#26368;&#22810;&#20445;&#30041;10&#20221;&#12290;</p>
<p>&#26377;&#20102;&#37197;&#32622;&#25991;&#20214;&#36824;&#19981;&#22815;&#65292;&#22240;&#20026;Log4j&#20063;&#26159;&#19968;&#20010;&#31532;&#19977;&#26041;&#24211;&#65292;&#25105;&#20204;&#38656;&#35201;&#20174;<a href="https://logging.apache.org/log4j/2.x/download.html">&#36825;&#37324;</a>&#19979;&#36733;Log4j&#65292;&#35299;&#21387;&#21518;&#65292;&#25226;&#20197;&#19979;3&#20010;jar&#21253;&#25918;&#21040;<code>classpath</code>&#20013;&#65306;</p>
<ul>
<li>log4j-api-2.x.jar</li>
<li>log4j-core-2.x.jar</li>
<li>log4j-jcl-2.x.jar</li>
</ul>
<p>&#22240;&#20026;Commons Logging&#20250;&#33258;&#21160;&#21457;&#29616;&#24182;&#20351;&#29992;Log4j&#65292;&#25152;&#20197;&#65292;&#25226;&#19978;&#19968;&#33410;&#19979;&#36733;&#30340;<code>commons-logging-1.2.jar</code>&#20063;&#25918;&#21040;<code>classpath</code>&#20013;&#12290;</p>
<p>&#35201;&#25171;&#21360;&#26085;&#24535;&#65292;&#21482;&#38656;&#35201;&#25353;Commons Logging&#30340;&#20889;&#27861;&#20889;&#65292;&#19981;&#38656;&#35201;&#25913;&#21160;&#20219;&#20309;&#20195;&#30721;&#65292;&#23601;&#21487;&#20197;&#24471;&#21040;Log4j&#30340;&#26085;&#24535;&#36755;&#20986;&#65292;&#31867;&#20284;&#65306;</p>
<pre><code>03-03 12:09:45.880 [main] INFO  com.itranswarp.learnjava.Main
Start process...
</code></pre>
<h3>&#26368;&#20339;&#23454;&#36341;</h3>
<p>&#22312;&#24320;&#21457;&#38454;&#27573;&#65292;&#22987;&#32456;&#20351;&#29992;Commons Logging&#25509;&#21475;&#26469;&#20889;&#20837;&#26085;&#24535;&#65292;&#24182;&#19988;&#24320;&#21457;&#38454;&#27573;&#26080;&#38656;&#24341;&#20837;Log4j&#12290;&#22914;&#26524;&#38656;&#35201;&#25226;&#26085;&#24535;&#20889;&#20837;&#25991;&#20214;&#65292;
&#21482;&#38656;&#35201;&#25226;&#27491;&#30830;&#30340;&#37197;&#32622;&#25991;&#20214;&#21644;Log4j&#30456;&#20851;&#30340;jar&#21253;&#25918;&#20837;<code>classpath</code>&#65292;&#23601;&#21487;&#20197;&#33258;&#21160;&#25226;&#26085;&#24535;&#20999;&#25442;&#25104;&#20351;&#29992;Log4j&#20889;&#20837;&#65292;&#26080;&#38656;&#20462;&#25913;&#20219;&#20309;&#20195;&#30721;&#12290;</p>
<h3>&#32451;&#20064;</h3>
<p>&#26681;&#25454;&#37197;&#32622;&#25991;&#20214;&#65292;&#35266;&#23519;Log4j&#20889;&#20837;&#30340;&#26085;&#24535;&#25991;&#20214;&#12290;</p>
<p><a href="https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/Java%E6%95%99%E7%A8%8B/30.%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.1255943543190176/80.%E4%BD%BF%E7%94%A8Log4j.1264739436350112/logging-log4j.zip">commons logging + log4j</a></p>
<h3>&#23567;&#32467;</h3>
<p>&#36890;&#36807;Commons Logging&#23454;&#29616;&#26085;&#24535;&#65292;&#19981;&#38656;&#35201;&#20462;&#25913;&#20195;&#30721;&#21363;&#21487;&#20351;&#29992;Log4j&#65307;</p>
<p>&#20351;&#29992;Log4j&#21482;&#38656;&#35201;&#25226;log4j2.xml&#21644;&#30456;&#20851;jar&#25918;&#20837;classpath&#65307;</p>
<p>&#22914;&#26524;&#35201;&#26356;&#25442;Log4j&#65292;&#21482;&#38656;&#35201;&#31227;&#38500;log4j2.xml&#21644;&#30456;&#20851;jar&#65307;</p>
<p>&#21482;&#26377;&#25193;&#23637;Log4j&#26102;&#65292;&#25165;&#38656;&#35201;&#24341;&#29992;Log4j&#30340;&#25509;&#21475;&#65288;&#20363;&#22914;&#65292;&#23558;&#26085;&#24535;&#21152;&#23494;&#20889;&#20837;&#25968;&#25454;&#24211;&#30340;&#21151;&#33021;&#65292;&#38656;&#35201;&#33258;&#24049;&#24320;&#21457;&#65289;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
