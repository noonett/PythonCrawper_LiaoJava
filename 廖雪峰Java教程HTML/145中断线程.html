<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>&#20013;&#26029;&#32447;&#31243;</h4>
    <div class="x-wiki-info">
    	<span>Reads: 54454</span>
    	<a href="/manage/wiki/wikipage_update?id=1306580767211554" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<p>&#22914;&#26524;&#32447;&#31243;&#38656;&#35201;&#25191;&#34892;&#19968;&#20010;&#38271;&#26102;&#38388;&#20219;&#21153;&#65292;&#23601;&#21487;&#33021;&#38656;&#35201;&#33021;&#20013;&#26029;&#32447;&#31243;&#12290;&#20013;&#26029;&#32447;&#31243;&#23601;&#26159;&#20854;&#20182;&#32447;&#31243;&#32473;&#35813;&#32447;&#31243;&#21457;&#19968;&#20010;&#20449;&#21495;&#65292;&#35813;&#32447;&#31243;&#25910;&#21040;&#20449;&#21495;&#21518;&#32467;&#26463;&#25191;&#34892;<code>run()</code>&#26041;&#27861;&#65292;&#20351;&#24471;&#33258;&#36523;&#32447;&#31243;&#33021;&#31435;&#21051;&#32467;&#26463;&#36816;&#34892;&#12290;</p>
<p>&#25105;&#20204;&#20030;&#20010;&#26647;&#23376;&#65306;&#20551;&#35774;&#20174;&#32593;&#32476;&#19979;&#36733;&#19968;&#20010;100M&#30340;&#25991;&#20214;&#65292;&#22914;&#26524;&#32593;&#36895;&#24456;&#24930;&#65292;&#29992;&#25143;&#31561;&#24471;&#19981;&#32784;&#28902;&#65292;&#23601;&#21487;&#33021;&#22312;&#19979;&#36733;&#36807;&#31243;&#20013;&#28857;&#8220;&#21462;&#28040;&#8221;&#65292;&#36825;&#26102;&#65292;&#31243;&#24207;&#23601;&#38656;&#35201;&#20013;&#26029;&#19979;&#36733;&#32447;&#31243;&#30340;&#25191;&#34892;&#12290;</p>
<p>&#20013;&#26029;&#19968;&#20010;&#32447;&#31243;&#38750;&#24120;&#31616;&#21333;&#65292;&#21482;&#38656;&#35201;&#22312;&#20854;&#20182;&#32447;&#31243;&#20013;&#23545;&#30446;&#26631;&#32447;&#31243;&#35843;&#29992;<code>interrupt()</code>&#26041;&#27861;&#65292;&#30446;&#26631;&#32447;&#31243;&#38656;&#35201;&#21453;&#22797;&#26816;&#27979;&#33258;&#36523;&#29366;&#24577;&#26159;&#21542;&#26159;interrupted&#29366;&#24577;&#65292;&#22914;&#26524;&#26159;&#65292;&#23601;&#31435;&#21051;&#32467;&#26463;&#36816;&#34892;&#12290;</p>
<p>&#25105;&#20204;&#36824;&#26159;&#30475;&#31034;&#20363;&#20195;&#30721;&#65306;</p>
<pre><code class="language-x-java">// &#20013;&#26029;&#32447;&#31243;
----
public class Main {
    public static void main(String[] args) throws InterruptedException {
        Thread t = new MyThread();
        t.start();
        Thread.sleep(1); // &#26242;&#20572;1&#27627;&#31186;
        t.interrupt(); // &#20013;&#26029;t&#32447;&#31243;
        t.join(); // &#31561;&#24453;t&#32447;&#31243;&#32467;&#26463;
        System.out.println("end");
    }
}

class MyThread extends Thread {
    public void run() {
        int n = 0;
        while (! isInterrupted()) {
            n ++;
            System.out.println(n + " hello!");
        }
    }
}
</code></pre>
<p>&#20180;&#32454;&#30475;&#19978;&#36848;&#20195;&#30721;&#65292;<code>main</code>&#32447;&#31243;&#36890;&#36807;&#35843;&#29992;<code>t.interrupt()</code>&#26041;&#27861;&#20013;&#26029;<code>t</code>&#32447;&#31243;&#65292;&#20294;&#26159;&#35201;&#27880;&#24847;&#65292;<code>interrupt()</code>&#26041;&#27861;&#20165;&#20165;&#21521;<code>t</code>&#32447;&#31243;&#21457;&#20986;&#20102;&#8220;&#20013;&#26029;&#35831;&#27714;&#8221;&#65292;&#33267;&#20110;<code>t</code>&#32447;&#31243;&#26159;&#21542;&#33021;&#31435;&#21051;&#21709;&#24212;&#65292;&#35201;&#30475;&#20855;&#20307;&#20195;&#30721;&#12290;&#32780;<code>t</code>&#32447;&#31243;&#30340;<code>while</code>&#24490;&#29615;&#20250;&#26816;&#27979;<code>isInterrupted()</code>&#65292;&#25152;&#20197;&#19978;&#36848;&#20195;&#30721;&#33021;&#27491;&#30830;&#21709;&#24212;<code>interrupt()</code>&#35831;&#27714;&#65292;&#20351;&#24471;&#33258;&#36523;&#31435;&#21051;&#32467;&#26463;&#36816;&#34892;<code>run()</code>&#26041;&#27861;&#12290;</p>
<p>&#22914;&#26524;&#32447;&#31243;&#22788;&#20110;&#31561;&#24453;&#29366;&#24577;&#65292;&#20363;&#22914;&#65292;<code>t.join()</code>&#20250;&#35753;<code>main</code>&#32447;&#31243;&#36827;&#20837;&#31561;&#24453;&#29366;&#24577;&#65292;&#27492;&#26102;&#65292;&#22914;&#26524;&#23545;<code>main</code>&#32447;&#31243;&#35843;&#29992;<code>interrupt()</code>&#65292;<code>join()</code>&#26041;&#27861;&#20250;&#31435;&#21051;&#25243;&#20986;<code>InterruptedException</code>&#65292;&#22240;&#27492;&#65292;&#30446;&#26631;&#32447;&#31243;&#21482;&#35201;&#25429;&#33719;&#21040;<code>join()</code>&#26041;&#27861;&#25243;&#20986;&#30340;<code>InterruptedException</code>&#65292;&#23601;&#35828;&#26126;&#26377;&#20854;&#20182;&#32447;&#31243;&#23545;&#20854;&#35843;&#29992;&#20102;<code>interrupt()</code>&#26041;&#27861;&#65292;&#36890;&#24120;&#24773;&#20917;&#19979;&#35813;&#32447;&#31243;&#24212;&#35813;&#31435;&#21051;&#32467;&#26463;&#36816;&#34892;&#12290;</p>
<p>&#25105;&#20204;&#26469;&#30475;&#19979;&#38754;&#30340;&#31034;&#20363;&#20195;&#30721;&#65306;</p>
<pre><code class="language-x-java">// &#20013;&#26029;&#32447;&#31243;
----
public class Main {
    public static void main(String[] args) throws InterruptedException {
        Thread t = new MyThread();
        t.start();
        Thread.sleep(1000);
        t.interrupt(); // &#20013;&#26029;t&#32447;&#31243;
        t.join(); // &#31561;&#24453;t&#32447;&#31243;&#32467;&#26463;
        System.out.println("end");
    }
}

class MyThread extends Thread {
    public void run() {
        Thread hello = new HelloThread();
        hello.start(); // &#21551;&#21160;hello&#32447;&#31243;
        try {
            hello.join(); // &#31561;&#24453;hello&#32447;&#31243;&#32467;&#26463;
        } catch (InterruptedException e) {
            System.out.println("interrupted!");
        }
        hello.interrupt();
    }
}

class HelloThread extends Thread {
    public void run() {
        int n = 0;
        while (!isInterrupted()) {
            n++;
            System.out.println(n + " hello!");
            try {
                Thread.sleep(100);
            } catch (InterruptedException e) {
                break;
            }
        }
    }
}
</code></pre>
<p><code>main</code>&#32447;&#31243;&#36890;&#36807;&#35843;&#29992;<code>t.interrupt()</code>&#20174;&#32780;&#36890;&#30693;<code>t</code>&#32447;&#31243;&#20013;&#26029;&#65292;&#32780;&#27492;&#26102;<code>t</code>&#32447;&#31243;&#27491;&#20301;&#20110;<code>hello.join()</code>&#30340;&#31561;&#24453;&#20013;&#65292;&#27492;&#26041;&#27861;&#20250;&#31435;&#21051;&#32467;&#26463;&#31561;&#24453;&#24182;&#25243;&#20986;<code>InterruptedException</code>&#12290;&#30001;&#20110;&#25105;&#20204;&#22312;<code>t</code>&#32447;&#31243;&#20013;&#25429;&#33719;&#20102;<code>InterruptedException</code>&#65292;&#22240;&#27492;&#65292;&#23601;&#21487;&#20197;&#20934;&#22791;&#32467;&#26463;&#35813;&#32447;&#31243;&#12290;&#22312;<code>t</code>&#32447;&#31243;&#32467;&#26463;&#21069;&#65292;&#23545;<code>hello</code>&#32447;&#31243;&#20063;&#36827;&#34892;&#20102;<code>interrupt()</code>&#35843;&#29992;&#36890;&#30693;&#20854;&#20013;&#26029;&#12290;&#22914;&#26524;&#21435;&#25481;&#36825;&#19968;&#34892;&#20195;&#30721;&#65292;&#21487;&#20197;&#21457;&#29616;<code>hello</code>&#32447;&#31243;&#20173;&#28982;&#20250;&#32487;&#32493;&#36816;&#34892;&#65292;&#19988;JVM&#19981;&#20250;&#36864;&#20986;&#12290;</p>
<p>&#21478;&#19968;&#20010;&#24120;&#29992;&#30340;&#20013;&#26029;&#32447;&#31243;&#30340;&#26041;&#27861;&#26159;&#35774;&#32622;&#26631;&#24535;&#20301;&#12290;&#25105;&#20204;&#36890;&#24120;&#20250;&#29992;&#19968;&#20010;<code>running</code>&#26631;&#24535;&#20301;&#26469;&#26631;&#35782;&#32447;&#31243;&#26159;&#21542;&#24212;&#35813;&#32487;&#32493;&#36816;&#34892;&#65292;&#22312;&#22806;&#37096;&#32447;&#31243;&#20013;&#65292;&#36890;&#36807;&#25226;<code>HelloThread.running</code>&#32622;&#20026;<code>false</code>&#65292;&#23601;&#21487;&#20197;&#35753;&#32447;&#31243;&#32467;&#26463;&#65306;</p>
<pre><code class="language-x-java">// &#20013;&#26029;&#32447;&#31243;
----
public class Main {
    public static void main(String[] args)  throws InterruptedException {
        HelloThread t = new HelloThread();
        t.start();
        Thread.sleep(1);
        t.running = false; // &#26631;&#24535;&#20301;&#32622;&#20026;false
    }
}

class HelloThread extends Thread {
    public volatile boolean running = true;
    public void run() {
        int n = 0;
        while (running) {
            n ++;
            System.out.println(n + " hello!");
        }
        System.out.println("end!");
    }
}

</code></pre>
<p>&#27880;&#24847;&#21040;<code>HelloThread</code>&#30340;&#26631;&#24535;&#20301;<code>boolean running</code>&#26159;&#19968;&#20010;&#32447;&#31243;&#38388;&#20849;&#20139;&#30340;&#21464;&#37327;&#12290;&#32447;&#31243;&#38388;&#20849;&#20139;&#21464;&#37327;&#38656;&#35201;&#20351;&#29992;<code>volatile</code>&#20851;&#38190;&#23383;&#26631;&#35760;&#65292;&#30830;&#20445;&#27599;&#20010;&#32447;&#31243;&#37117;&#33021;&#35835;&#21462;&#21040;&#26356;&#26032;&#21518;&#30340;&#21464;&#37327;&#20540;&#12290;</p>
<p>&#20026;&#20160;&#20040;&#35201;&#23545;&#32447;&#31243;&#38388;&#20849;&#20139;&#30340;&#21464;&#37327;&#29992;&#20851;&#38190;&#23383;<code>volatile</code>&#22768;&#26126;&#65311;&#36825;&#28041;&#21450;&#21040;Java&#30340;&#20869;&#23384;&#27169;&#22411;&#12290;&#22312;Java&#34394;&#25311;&#26426;&#20013;&#65292;&#21464;&#37327;&#30340;&#20540;&#20445;&#23384;&#22312;&#20027;&#20869;&#23384;&#20013;&#65292;&#20294;&#26159;&#65292;&#24403;&#32447;&#31243;&#35775;&#38382;&#21464;&#37327;&#26102;&#65292;&#23427;&#20250;&#20808;&#33719;&#21462;&#19968;&#20010;&#21103;&#26412;&#65292;&#24182;&#20445;&#23384;&#22312;&#33258;&#24049;&#30340;&#24037;&#20316;&#20869;&#23384;&#20013;&#12290;&#22914;&#26524;&#32447;&#31243;&#20462;&#25913;&#20102;&#21464;&#37327;&#30340;&#20540;&#65292;&#34394;&#25311;&#26426;&#20250;&#22312;&#26576;&#20010;&#26102;&#21051;&#25226;&#20462;&#25913;&#21518;&#30340;&#20540;&#22238;&#20889;&#21040;&#20027;&#20869;&#23384;&#65292;&#20294;&#26159;&#65292;&#36825;&#20010;&#26102;&#38388;&#26159;&#19981;&#30830;&#23450;&#30340;&#65281;</p>
<pre><code class="language-ascii">&#9484; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9488;
           Main Memory
&#9474;                               &#9474;
   &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;  &#9474; var A &#9474;&#9474; var B &#9474;&#9474; var C &#9474;  &#9474;
   &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
&#9474;     &#9474; &#9650;               &#9474; &#9650;     &#9474;
 &#9472; &#9472; &#9472;&#9474;&#9472;&#9474;&#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472;&#9474;&#9472;&#9474;&#9472; &#9472; &#9472;
      &#9474; &#9474;               &#9474; &#9474;
&#9484; &#9472; &#9472; &#9532; &#9532; &#9472; &#9472; &#9488;   &#9484; &#9472; &#9472; &#9532; &#9532; &#9472; &#9472; &#9488;
      &#9660; &#9474;               &#9660; &#9474;
&#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;  &#9474;   &#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;  &#9474;
   &#9474; var A &#9474;         &#9474; var C &#9474;
&#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;  &#9474;   &#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;  &#9474;
   Thread 1          Thread 2
&#9492; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9496;   &#9492; &#9472; &#9472; &#9472; &#9472; &#9472; &#9472; &#9496;
</code></pre>
<p>&#36825;&#20250;&#23548;&#33268;&#22914;&#26524;&#19968;&#20010;&#32447;&#31243;&#26356;&#26032;&#20102;&#26576;&#20010;&#21464;&#37327;&#65292;&#21478;&#19968;&#20010;&#32447;&#31243;&#35835;&#21462;&#30340;&#20540;&#21487;&#33021;&#36824;&#26159;&#26356;&#26032;&#21069;&#30340;&#12290;&#20363;&#22914;&#65292;&#20027;&#20869;&#23384;&#30340;&#21464;&#37327;<code>a = true</code>&#65292;&#32447;&#31243;1&#25191;&#34892;<code>a = false</code>&#26102;&#65292;&#23427;&#22312;&#27492;&#21051;&#20165;&#20165;&#26159;&#25226;&#21464;&#37327;<code>a</code>&#30340;&#21103;&#26412;&#21464;&#25104;&#20102;<code>false</code>&#65292;&#20027;&#20869;&#23384;&#30340;&#21464;&#37327;<code>a</code>&#36824;&#26159;<code>true</code>&#65292;&#22312;JVM&#25226;&#20462;&#25913;&#21518;&#30340;<code>a</code>&#22238;&#20889;&#21040;&#20027;&#20869;&#23384;&#20043;&#21069;&#65292;&#20854;&#20182;&#32447;&#31243;&#35835;&#21462;&#21040;&#30340;<code>a</code>&#30340;&#20540;&#20173;&#28982;&#26159;<code>true</code>&#65292;&#36825;&#23601;&#36896;&#25104;&#20102;&#22810;&#32447;&#31243;&#20043;&#38388;&#20849;&#20139;&#30340;&#21464;&#37327;&#19981;&#19968;&#33268;&#12290;</p>
<p>&#22240;&#27492;&#65292;<code>volatile</code>&#20851;&#38190;&#23383;&#30340;&#30446;&#30340;&#26159;&#21578;&#35785;&#34394;&#25311;&#26426;&#65306;</p>
<ul>
<li>&#27599;&#27425;&#35775;&#38382;&#21464;&#37327;&#26102;&#65292;&#24635;&#26159;&#33719;&#21462;&#20027;&#20869;&#23384;&#30340;&#26368;&#26032;&#20540;&#65307;</li>
<li>&#27599;&#27425;&#20462;&#25913;&#21464;&#37327;&#21518;&#65292;&#31435;&#21051;&#22238;&#20889;&#21040;&#20027;&#20869;&#23384;&#12290;</li>
</ul>
<p><code>volatile</code>&#20851;&#38190;&#23383;&#35299;&#20915;&#30340;&#26159;&#21487;&#35265;&#24615;&#38382;&#39064;&#65306;&#24403;&#19968;&#20010;&#32447;&#31243;&#20462;&#25913;&#20102;&#26576;&#20010;&#20849;&#20139;&#21464;&#37327;&#30340;&#20540;&#65292;&#20854;&#20182;&#32447;&#31243;&#33021;&#22815;&#31435;&#21051;&#30475;&#21040;&#20462;&#25913;&#21518;&#30340;&#20540;&#12290;</p>
<p>&#22914;&#26524;&#25105;&#20204;&#21435;&#25481;<code>volatile</code>&#20851;&#38190;&#23383;&#65292;&#36816;&#34892;&#19978;&#36848;&#31243;&#24207;&#65292;&#21457;&#29616;&#25928;&#26524;&#21644;&#24102;<code>volatile</code>&#24046;&#19981;&#22810;&#65292;&#36825;&#26159;&#22240;&#20026;&#22312;x86&#30340;&#26550;&#26500;&#19979;&#65292;JVM&#22238;&#20889;&#20027;&#20869;&#23384;&#30340;&#36895;&#24230;&#38750;&#24120;&#24555;&#65292;&#20294;&#26159;&#65292;&#25442;&#25104;ARM&#30340;&#26550;&#26500;&#65292;&#23601;&#20250;&#26377;&#26174;&#33879;&#30340;&#24310;&#36831;&#12290;</p>
<h3>&#23567;&#32467;</h3>
<p>&#23545;&#30446;&#26631;&#32447;&#31243;&#35843;&#29992;<code>interrupt()</code>&#26041;&#27861;&#21487;&#20197;&#35831;&#27714;&#20013;&#26029;&#19968;&#20010;&#32447;&#31243;&#65292;&#30446;&#26631;&#32447;&#31243;&#36890;&#36807;&#26816;&#27979;<code>isInterrupted()</code>&#26631;&#24535;&#33719;&#21462;&#33258;&#36523;&#26159;&#21542;&#24050;&#20013;&#26029;&#12290;&#22914;&#26524;&#30446;&#26631;&#32447;&#31243;&#22788;&#20110;&#31561;&#24453;&#29366;&#24577;&#65292;&#35813;&#32447;&#31243;&#20250;&#25429;&#33719;&#21040;<code>InterruptedException</code>&#65307;</p>
<p>&#30446;&#26631;&#32447;&#31243;&#26816;&#27979;&#21040;<code>isInterrupted()</code>&#20026;<code>true</code>&#25110;&#32773;&#25429;&#33719;&#20102;<code>InterruptedException</code>&#37117;&#24212;&#35813;&#31435;&#21051;&#32467;&#26463;&#33258;&#36523;&#32447;&#31243;&#65307;</p>
<p>&#36890;&#36807;&#26631;&#24535;&#20301;&#21028;&#26029;&#38656;&#35201;&#27491;&#30830;&#20351;&#29992;<code>volatile</code>&#20851;&#38190;&#23383;&#65307;</p>
<p><code>volatile</code>&#20851;&#38190;&#23383;&#35299;&#20915;&#20102;&#20849;&#20139;&#21464;&#37327;&#22312;&#32447;&#31243;&#38388;&#30340;&#21487;&#35265;&#24615;&#38382;&#39064;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
