<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>InputStream</h4>
    <div class="x-wiki-info">
    	<span>Reads: 209340</span>
    	<a href="/manage/wiki/wikipage_update?id=1298069163343905" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<p><code>InputStream</code>&#23601;&#26159;Java&#26631;&#20934;&#24211;&#25552;&#20379;&#30340;&#26368;&#22522;&#26412;&#30340;&#36755;&#20837;&#27969;&#12290;&#23427;&#20301;&#20110;<code>java.io</code>&#36825;&#20010;&#21253;&#37324;&#12290;<code>java.io</code>&#21253;&#25552;&#20379;&#20102;&#25152;&#26377;&#21516;&#27493;IO&#30340;&#21151;&#33021;&#12290;</p>
<p>&#35201;&#29305;&#21035;&#27880;&#24847;&#30340;&#19968;&#28857;&#26159;&#65292;<code>InputStream</code>&#24182;&#19981;&#26159;&#19968;&#20010;&#25509;&#21475;&#65292;&#32780;&#26159;&#19968;&#20010;&#25277;&#35937;&#31867;&#65292;&#23427;&#26159;&#25152;&#26377;&#36755;&#20837;&#27969;&#30340;&#36229;&#31867;&#12290;&#36825;&#20010;&#25277;&#35937;&#31867;&#23450;&#20041;&#30340;&#19968;&#20010;&#26368;&#37325;&#35201;&#30340;&#26041;&#27861;&#23601;&#26159;<code>int read()</code>&#65292;&#31614;&#21517;&#22914;&#19979;&#65306;</p>
<pre><code>public abstract int read() throws IOException;
</code></pre>
<p>&#36825;&#20010;&#26041;&#27861;&#20250;&#35835;&#21462;&#36755;&#20837;&#27969;&#30340;&#19979;&#19968;&#20010;&#23383;&#33410;&#65292;&#24182;&#36820;&#22238;&#23383;&#33410;&#34920;&#31034;&#30340;<code>int</code>&#20540;&#65288;0~255&#65289;&#12290;&#22914;&#26524;&#24050;&#35835;&#21040;&#26411;&#23614;&#65292;&#36820;&#22238;<code>-1</code>&#34920;&#31034;&#19981;&#33021;&#32487;&#32493;&#35835;&#21462;&#20102;&#12290;</p>
<p><code>FileInputStream</code>&#26159;<code>InputStream</code>&#30340;&#19968;&#20010;&#23376;&#31867;&#12290;&#39038;&#21517;&#24605;&#20041;&#65292;<code>FileInputStream</code>&#23601;&#26159;&#20174;&#25991;&#20214;&#27969;&#20013;&#35835;&#21462;&#25968;&#25454;&#12290;&#19979;&#38754;&#30340;&#20195;&#30721;&#28436;&#31034;&#20102;&#22914;&#20309;&#23436;&#25972;&#22320;&#35835;&#21462;&#19968;&#20010;<code>FileInputStream</code>&#30340;&#25152;&#26377;&#23383;&#33410;&#65306;</p>
<pre><code>public void readFile() throws IOException {
    // &#21019;&#24314;&#19968;&#20010;FileInputStream&#23545;&#35937;:
    InputStream input = new FileInputStream("src/readme.txt");
    for (;;) {
        int n = input.read(); // &#21453;&#22797;&#35843;&#29992;read()&#26041;&#27861;&#65292;&#30452;&#21040;&#36820;&#22238;-1
        if (n == -1) {
            break;
        }
        System.out.println(n); // &#25171;&#21360;byte&#30340;&#20540;
    }
    input.close(); // &#20851;&#38381;&#27969;
}
</code></pre>
<p>&#22312;&#35745;&#31639;&#26426;&#20013;&#65292;&#31867;&#20284;&#25991;&#20214;&#12289;&#32593;&#32476;&#31471;&#21475;&#36825;&#20123;&#36164;&#28304;&#65292;&#37117;&#26159;&#30001;&#25805;&#20316;&#31995;&#32479;&#32479;&#19968;&#31649;&#29702;&#30340;&#12290;&#24212;&#29992;&#31243;&#24207;&#22312;&#36816;&#34892;&#30340;&#36807;&#31243;&#20013;&#65292;&#22914;&#26524;&#25171;&#24320;&#20102;&#19968;&#20010;&#25991;&#20214;&#36827;&#34892;&#35835;&#20889;&#65292;&#23436;&#25104;&#21518;&#35201;&#21450;&#26102;&#22320;&#20851;&#38381;&#65292;&#20197;&#20415;&#35753;&#25805;&#20316;&#31995;&#32479;&#25226;&#36164;&#28304;&#37322;&#25918;&#25481;&#65292;&#21542;&#21017;&#65292;&#24212;&#29992;&#31243;&#24207;&#21344;&#29992;&#30340;&#36164;&#28304;&#20250;&#36234;&#26469;&#36234;&#22810;&#65292;&#19981;&#20294;&#30333;&#30333;&#21344;&#29992;&#20869;&#23384;&#65292;&#36824;&#20250;&#24433;&#21709;&#20854;&#20182;&#24212;&#29992;&#31243;&#24207;&#30340;&#36816;&#34892;&#12290;</p>
<p><code>InputStream</code>&#21644;<code>OutputStream</code>&#37117;&#26159;&#36890;&#36807;<code>close()</code>&#26041;&#27861;&#26469;&#20851;&#38381;&#27969;&#12290;&#20851;&#38381;&#27969;&#23601;&#20250;&#37322;&#25918;&#23545;&#24212;&#30340;&#24213;&#23618;&#36164;&#28304;&#12290;</p>
<p>&#25105;&#20204;&#36824;&#35201;&#27880;&#24847;&#21040;&#22312;&#35835;&#21462;&#25110;&#20889;&#20837;IO&#27969;&#30340;&#36807;&#31243;&#20013;&#65292;&#21487;&#33021;&#20250;&#21457;&#29983;&#38169;&#35823;&#65292;&#20363;&#22914;&#65292;&#25991;&#20214;&#19981;&#23384;&#22312;&#23548;&#33268;&#26080;&#27861;&#35835;&#21462;&#65292;&#27809;&#26377;&#20889;&#26435;&#38480;&#23548;&#33268;&#20889;&#20837;&#22833;&#36133;&#65292;&#31561;&#31561;&#65292;&#36825;&#20123;&#24213;&#23618;&#38169;&#35823;&#30001;Java&#34394;&#25311;&#26426;&#33258;&#21160;&#23553;&#35013;&#25104;<code>IOException</code>&#24322;&#24120;&#24182;&#25243;&#20986;&#12290;&#22240;&#27492;&#65292;&#25152;&#26377;&#19982;IO&#25805;&#20316;&#30456;&#20851;&#30340;&#20195;&#30721;&#37117;&#24517;&#39035;&#27491;&#30830;&#22788;&#29702;<code>IOException</code>&#12290;</p>
<p>&#20180;&#32454;&#35266;&#23519;&#19978;&#38754;&#30340;&#20195;&#30721;&#65292;&#20250;&#21457;&#29616;&#19968;&#20010;&#28508;&#22312;&#30340;&#38382;&#39064;&#65306;&#22914;&#26524;&#35835;&#21462;&#36807;&#31243;&#20013;&#21457;&#29983;&#20102;IO&#38169;&#35823;&#65292;<code>InputStream</code>&#23601;&#27809;&#27861;&#27491;&#30830;&#22320;&#20851;&#38381;&#65292;&#36164;&#28304;&#20063;&#23601;&#27809;&#27861;&#21450;&#26102;&#37322;&#25918;&#12290;</p>
<p>&#22240;&#27492;&#65292;&#25105;&#20204;&#38656;&#35201;&#29992;<code>try ... finally</code>&#26469;&#20445;&#35777;<code>InputStream</code>&#22312;&#26080;&#35770;&#26159;&#21542;&#21457;&#29983;IO&#38169;&#35823;&#30340;&#26102;&#20505;&#37117;&#33021;&#22815;&#27491;&#30830;&#22320;&#20851;&#38381;&#65306;</p>
<pre><code>public void readFile() throws IOException {
    InputStream input = null;
    try {
        input = new FileInputStream("src/readme.txt");
        int n;
        while ((n = input.read()) != -1) { // &#21033;&#29992;while&#21516;&#26102;&#35835;&#21462;&#24182;&#21028;&#26029;
            System.out.println(n);
        }
    } finally {
        if (input != null) { input.close(); }
    }
}
</code></pre>
<p>&#29992;<code>try ... finally</code>&#26469;&#32534;&#20889;&#19978;&#36848;&#20195;&#30721;&#20250;&#24863;&#35273;&#27604;&#36739;&#22797;&#26434;&#65292;&#26356;&#22909;&#30340;&#20889;&#27861;&#26159;&#21033;&#29992;Java 7&#24341;&#20837;&#30340;&#26032;&#30340;<code>try(resource)</code>&#30340;&#35821;&#27861;&#65292;&#21482;&#38656;&#35201;&#32534;&#20889;<code>try</code>&#35821;&#21477;&#65292;&#35753;&#32534;&#35793;&#22120;&#33258;&#21160;&#20026;&#25105;&#20204;&#20851;&#38381;&#36164;&#28304;&#12290;&#25512;&#33616;&#30340;&#20889;&#27861;&#22914;&#19979;&#65306;</p>
<pre><code>public void readFile() throws IOException {
    try (InputStream input = new FileInputStream("src/readme.txt")) {
        int n;
        while ((n = input.read()) != -1) {
            System.out.println(n);
        }
    } // &#32534;&#35793;&#22120;&#22312;&#27492;&#33258;&#21160;&#20026;&#25105;&#20204;&#20889;&#20837;finally&#24182;&#35843;&#29992;close()
}
</code></pre>
<p>&#23454;&#38469;&#19978;&#65292;&#32534;&#35793;&#22120;&#24182;&#19981;&#20250;&#29305;&#21035;&#22320;&#20026;<code>InputStream</code>&#21152;&#19978;&#33258;&#21160;&#20851;&#38381;&#12290;&#32534;&#35793;&#22120;&#21482;&#30475;<code>try(resource = ...)</code>&#20013;&#30340;&#23545;&#35937;&#26159;&#21542;&#23454;&#29616;&#20102;<code>java.lang.AutoCloseable</code>&#25509;&#21475;&#65292;&#22914;&#26524;&#23454;&#29616;&#20102;&#65292;&#23601;&#33258;&#21160;&#21152;&#19978;<code>finally</code>&#35821;&#21477;&#24182;&#35843;&#29992;<code>close()</code>&#26041;&#27861;&#12290;<code>InputStream</code>&#21644;<code>OutputStream</code>&#37117;&#23454;&#29616;&#20102;&#36825;&#20010;&#25509;&#21475;&#65292;&#22240;&#27492;&#65292;&#37117;&#21487;&#20197;&#29992;&#22312;<code>try(resource)</code>&#20013;&#12290;</p>
<h3>&#32531;&#20914;</h3>
<p>&#22312;&#35835;&#21462;&#27969;&#30340;&#26102;&#20505;&#65292;&#19968;&#27425;&#35835;&#21462;&#19968;&#20010;&#23383;&#33410;&#24182;&#19981;&#26159;&#26368;&#39640;&#25928;&#30340;&#26041;&#27861;&#12290;&#24456;&#22810;&#27969;&#25903;&#25345;&#19968;&#27425;&#24615;&#35835;&#21462;&#22810;&#20010;&#23383;&#33410;&#21040;&#32531;&#20914;&#21306;&#65292;&#23545;&#20110;&#25991;&#20214;&#21644;&#32593;&#32476;&#27969;&#26469;&#35828;&#65292;&#21033;&#29992;&#32531;&#20914;&#21306;&#19968;&#27425;&#24615;&#35835;&#21462;&#22810;&#20010;&#23383;&#33410;&#25928;&#29575;&#24448;&#24448;&#35201;&#39640;&#24456;&#22810;&#12290;<code>InputStream</code>&#25552;&#20379;&#20102;&#20004;&#20010;&#37325;&#36733;&#26041;&#27861;&#26469;&#25903;&#25345;&#35835;&#21462;&#22810;&#20010;&#23383;&#33410;&#65306;</p>
<ul>
<li>
<code>int read(byte[] b)</code>&#65306;&#35835;&#21462;&#33509;&#24178;&#23383;&#33410;&#24182;&#22635;&#20805;&#21040;<code>byte[]</code>&#25968;&#32452;&#65292;&#36820;&#22238;&#35835;&#21462;&#30340;&#23383;&#33410;&#25968;</li>
<li>
<code>int read(byte[] b, int off, int len)</code>&#65306;&#25351;&#23450;<code>byte[]</code>&#25968;&#32452;&#30340;&#20559;&#31227;&#37327;&#21644;&#26368;&#22823;&#22635;&#20805;&#25968;</li>
</ul>
<p>&#21033;&#29992;&#19978;&#36848;&#26041;&#27861;&#19968;&#27425;&#35835;&#21462;&#22810;&#20010;&#23383;&#33410;&#26102;&#65292;&#38656;&#35201;&#20808;&#23450;&#20041;&#19968;&#20010;<code>byte[]</code>&#25968;&#32452;&#20316;&#20026;&#32531;&#20914;&#21306;&#65292;<code>read()</code>&#26041;&#27861;&#20250;&#23613;&#21487;&#33021;&#22810;&#22320;&#35835;&#21462;&#23383;&#33410;&#21040;&#32531;&#20914;&#21306;&#65292;
&#20294;&#19981;&#20250;&#36229;&#36807;&#32531;&#20914;&#21306;&#30340;&#22823;&#23567;&#12290;<code>read()</code>&#26041;&#27861;&#30340;&#36820;&#22238;&#20540;&#19981;&#20877;&#26159;&#23383;&#33410;&#30340;<code>int</code>&#20540;&#65292;&#32780;&#26159;&#36820;&#22238;&#23454;&#38469;&#35835;&#21462;&#20102;&#22810;&#23569;&#20010;&#23383;&#33410;&#12290;&#22914;&#26524;&#36820;&#22238;<code>-1</code>&#65292;&#34920;&#31034;&#27809;&#26377;&#26356;&#22810;&#30340;&#25968;&#25454;&#20102;&#12290;</p>
<p>&#21033;&#29992;&#32531;&#20914;&#21306;&#19968;&#27425;&#35835;&#21462;&#22810;&#20010;&#23383;&#33410;&#30340;&#20195;&#30721;&#22914;&#19979;&#65306;</p>
<pre><code>public void readFile() throws IOException {
    try (InputStream input = new FileInputStream("src/readme.txt")) {
        // &#23450;&#20041;1000&#20010;&#23383;&#33410;&#22823;&#23567;&#30340;&#32531;&#20914;&#21306;:
        byte[] buffer = new byte[1000];
        int n;
        while ((n = input.read(buffer)) != -1) { // &#35835;&#21462;&#21040;&#32531;&#20914;&#21306;
            System.out.println("read " + n + " bytes.");
        }
    }
}
</code></pre>
<h3>&#38459;&#22622;</h3>
<p>&#22312;&#35843;&#29992;<code>InputStream</code>&#30340;<code>read()</code>&#26041;&#27861;&#35835;&#21462;&#25968;&#25454;&#26102;&#65292;&#25105;&#20204;&#35828;<code>read()</code>&#26041;&#27861;&#26159;&#38459;&#22622;&#65288;Blocking&#65289;&#30340;&#12290;&#23427;&#30340;&#24847;&#24605;&#26159;&#65292;&#23545;&#20110;&#19979;&#38754;&#30340;&#20195;&#30721;&#65306;</p>
<pre><code>int n;
n = input.read(); // &#24517;&#39035;&#31561;&#24453;read()&#26041;&#27861;&#36820;&#22238;&#25165;&#33021;&#25191;&#34892;&#19979;&#19968;&#34892;&#20195;&#30721;
int m = n;
</code></pre>
<p>&#25191;&#34892;&#21040;&#31532;&#20108;&#34892;&#20195;&#30721;&#26102;&#65292;&#24517;&#39035;&#31561;<code>read()</code>&#26041;&#27861;&#36820;&#22238;&#21518;&#25165;&#33021;&#32487;&#32493;&#12290;&#22240;&#20026;&#35835;&#21462;IO&#27969;&#30456;&#27604;&#25191;&#34892;&#26222;&#36890;&#20195;&#30721;&#65292;&#36895;&#24230;&#20250;&#24930;&#24456;&#22810;&#65292;&#22240;&#27492;&#65292;&#26080;&#27861;&#30830;&#23450;<code>read()</code>&#26041;&#27861;&#35843;&#29992;&#21040;&#24213;&#35201;&#33457;&#36153;&#22810;&#38271;&#26102;&#38388;&#12290;</p>
<h3>InputStream&#23454;&#29616;&#31867;</h3>
<p>&#29992;<code>FileInputStream</code>&#21487;&#20197;&#20174;&#25991;&#20214;&#33719;&#21462;&#36755;&#20837;&#27969;&#65292;&#36825;&#26159;<code>InputStream</code>&#24120;&#29992;&#30340;&#19968;&#20010;&#23454;&#29616;&#31867;&#12290;&#27492;&#22806;&#65292;<code>ByteArrayInputStream</code>&#21487;&#20197;&#22312;&#20869;&#23384;&#20013;&#27169;&#25311;&#19968;&#20010;<code>InputStream</code>&#65306;</p>
<pre><code class="language-x-java">import java.io.*;
----
public class Main {
    public static void main(String[] args) throws IOException {
        byte[] data = { 72, 101, 108, 108, 111, 33 };
        try (InputStream input = new ByteArrayInputStream(data)) {
            int n;
            while ((n = input.read()) != -1) {
                System.out.println((char)n);
            }
        }
    }
}
</code></pre>
<p><code>ByteArrayInputStream</code>&#23454;&#38469;&#19978;&#26159;&#25226;&#19968;&#20010;<code>byte[]</code>&#25968;&#32452;&#22312;&#20869;&#23384;&#20013;&#21464;&#25104;&#19968;&#20010;<code>InputStream</code>&#65292;&#34429;&#28982;&#23454;&#38469;&#24212;&#29992;&#19981;&#22810;&#65292;&#20294;&#27979;&#35797;&#30340;&#26102;&#20505;&#65292;&#21487;&#20197;&#29992;&#23427;&#26469;&#26500;&#36896;&#19968;&#20010;<code>InputStream</code>&#12290;</p>
<p>&#20030;&#20010;&#26647;&#23376;&#65306;&#25105;&#20204;&#24819;&#20174;&#25991;&#20214;&#20013;&#35835;&#21462;&#25152;&#26377;&#23383;&#33410;&#65292;&#24182;&#36716;&#25442;&#25104;<code>char</code>&#28982;&#21518;&#25340;&#25104;&#19968;&#20010;&#23383;&#31526;&#20018;&#65292;&#21487;&#20197;&#36825;&#20040;&#20889;&#65306;</p>
<pre><code>public class Main {
    public static void main(String[] args) throws IOException {
        String s;
        try (InputStream input = new FileInputStream("C:\\test\\README.txt")) {
            int n;
            StringBuilder sb = new StringBuilder();
            while ((n = input.read()) != -1) {
                sb.append((char) n);
            }
            s = sb.toString();
        }
        System.out.println(s);
    }
}
</code></pre>
<p>&#35201;&#27979;&#35797;&#19978;&#38754;&#30340;&#31243;&#24207;&#65292;&#23601;&#30495;&#30340;&#38656;&#35201;&#22312;&#26412;&#22320;&#30828;&#30424;&#19978;&#25918;&#19968;&#20010;&#30495;&#23454;&#30340;&#25991;&#26412;&#25991;&#20214;&#12290;&#22914;&#26524;&#25105;&#20204;&#25226;&#20195;&#30721;&#31245;&#24494;&#25913;&#36896;&#19968;&#19979;&#65292;&#25552;&#21462;&#19968;&#20010;<code>readAsString()</code>&#30340;&#26041;&#27861;&#65306;</p>
<pre><code>public class Main {
    public static void main(String[] args) throws IOException {
        String s;
        try (InputStream input = new FileInputStream("C:\\test\\README.txt")) {
            s = readAsString(input);
        }
        System.out.println(s);
    }

    public static String readAsString(InputStream input) throws IOException {
        int n;
        StringBuilder sb = new StringBuilder();
        while ((n = input.read()) != -1) {
            sb.append((char) n);
        }
        return sb.toString();
    }
}
</code></pre>
<p>&#23545;&#36825;&#20010;<code>String readAsString(InputStream input)</code>&#26041;&#27861;&#36827;&#34892;&#27979;&#35797;&#23601;&#30456;&#24403;&#31616;&#21333;&#65292;&#22240;&#20026;&#19981;&#19968;&#23450;&#35201;&#20256;&#20837;&#19968;&#20010;&#30495;&#30340;<code>FileInputStream</code>&#65306;</p>
<pre><code class="language-x-java">import java.io.*;
----
public class Main {
    public static void main(String[] args) throws IOException {
        byte[] data = { 72, 101, 108, 108, 111, 33 };
        try (InputStream input = new ByteArrayInputStream(data)) {
            String s = readAsString(input);
            System.out.println(s);
        }
    }

    public static String readAsString(InputStream input) throws IOException {
        int n;
        StringBuilder sb = new StringBuilder();
        while ((n = input.read()) != -1) {
            sb.append((char) n);
        }
        return sb.toString();
    }
}
</code></pre>
<p>&#36825;&#23601;&#26159;&#38754;&#21521;&#25277;&#35937;&#32534;&#31243;&#21407;&#21017;&#30340;&#24212;&#29992;&#65306;&#25509;&#21463;<code>InputStream</code>&#25277;&#35937;&#31867;&#22411;&#65292;&#32780;&#19981;&#26159;&#20855;&#20307;&#30340;<code>FileInputStream</code>&#31867;&#22411;&#65292;&#20174;&#32780;&#20351;&#24471;&#20195;&#30721;&#21487;&#20197;&#22788;&#29702;<code>InputStream</code>&#30340;&#20219;&#24847;&#23454;&#29616;&#31867;&#12290;</p>
<h3>&#23567;&#32467;</h3>
<p>Java&#26631;&#20934;&#24211;&#30340;<code>java.io.InputStream</code>&#23450;&#20041;&#20102;&#25152;&#26377;&#36755;&#20837;&#27969;&#30340;&#36229;&#31867;&#65306;</p>
<ul>
<li>
<p><code>FileInputStream</code>&#23454;&#29616;&#20102;&#25991;&#20214;&#27969;&#36755;&#20837;&#65307;</p>
</li>
<li>
<p><code>ByteArrayInputStream</code>&#22312;&#20869;&#23384;&#20013;&#27169;&#25311;&#19968;&#20010;&#23383;&#33410;&#27969;&#36755;&#20837;&#12290;</p>
</li>
</ul>
<p>&#24635;&#26159;&#20351;&#29992;<code>try(resource)</code>&#26469;&#20445;&#35777;<code>InputStream</code>&#27491;&#30830;&#20851;&#38381;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
