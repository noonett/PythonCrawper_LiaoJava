<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>&#20351;&#29992;Atomic</h4>
    <div class="x-wiki-info">
    	<span>Reads: 9882</span>
    	<a href="/manage/wiki/wikipage_update?id=1306581083881506" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<p>Java&#30340;<code>java.util.concurrent</code>&#21253;&#38500;&#20102;&#25552;&#20379;&#24213;&#23618;&#38145;&#12289;&#24182;&#21457;&#38598;&#21512;&#22806;&#65292;&#36824;&#25552;&#20379;&#20102;&#19968;&#32452;&#21407;&#23376;&#25805;&#20316;&#30340;&#23553;&#35013;&#31867;&#65292;&#23427;&#20204;&#20301;&#20110;<code>java.util.concurrent.atomic</code>&#21253;&#12290;</p>
<p>&#25105;&#20204;&#20197;<code>AtomicInteger</code>&#20026;&#20363;&#65292;&#23427;&#25552;&#20379;&#30340;&#20027;&#35201;&#25805;&#20316;&#26377;&#65306;</p>
<ul>
<li>&#22686;&#21152;&#20540;&#24182;&#36820;&#22238;&#26032;&#20540;&#65306;<code>int addAndGet(int delta)</code>
</li>
<li>&#21152;1&#21518;&#36820;&#22238;&#26032;&#20540;&#65306;<code>int incrementAndGet()</code>
</li>
<li>&#33719;&#21462;&#24403;&#21069;&#20540;&#65306;<code>int get()</code>
</li>
<li>&#29992;CAS&#26041;&#24335;&#35774;&#32622;&#65306;<code>int compareAndSet(int expect, int update)</code>
</li>
</ul>
<p>Atomic&#31867;&#26159;&#36890;&#36807;&#26080;&#38145;&#65288;lock-free&#65289;&#30340;&#26041;&#24335;&#23454;&#29616;&#30340;&#32447;&#31243;&#23433;&#20840;&#65288;thread-safe&#65289;&#35775;&#38382;&#12290;&#23427;&#30340;&#20027;&#35201;&#21407;&#29702;&#26159;&#21033;&#29992;&#20102;CAS&#65306;Compare and Set&#12290;</p>
<p>&#22914;&#26524;&#25105;&#20204;&#33258;&#24049;&#36890;&#36807;CAS&#32534;&#20889;<code>incrementAndGet()</code>&#65292;&#23427;&#22823;&#27010;&#38271;&#36825;&#26679;&#65306;</p>
<pre><code>public int incrementAndGet(AtomicInteger var) {
    int prev, next;
    do {
        prev = var.get();
        next = prev + 1;
    } while ( ! var.compareAndSet(prev, next));
    return prev;
}
</code></pre>
<p>CAS&#26159;&#25351;&#65292;&#22312;&#36825;&#20010;&#25805;&#20316;&#20013;&#65292;&#22914;&#26524;<code>AtomicInteger</code>&#30340;&#24403;&#21069;&#20540;&#26159;<code>prev</code>&#65292;&#37027;&#20040;&#23601;&#26356;&#26032;&#20026;<code>next</code>&#65292;&#36820;&#22238;<code>true</code>&#12290;&#22914;&#26524;<code>AtomicInteger</code>&#30340;&#24403;&#21069;&#20540;&#19981;&#26159;<code>prev</code>&#65292;&#23601;&#20160;&#20040;&#20063;&#19981;&#24178;&#65292;&#36820;&#22238;<code>false</code>&#12290;&#36890;&#36807;CAS&#25805;&#20316;&#24182;&#37197;&#21512;<code>do ... while</code>&#24490;&#29615;&#65292;&#21363;&#20351;&#20854;&#20182;&#32447;&#31243;&#20462;&#25913;&#20102;<code>AtomicInteger</code>&#30340;&#20540;&#65292;&#26368;&#32456;&#30340;&#32467;&#26524;&#20063;&#26159;&#27491;&#30830;&#30340;&#12290;</p>
<p>&#25105;&#20204;&#21033;&#29992;<code>AtomicLong</code>&#21487;&#20197;&#32534;&#20889;&#19968;&#20010;&#22810;&#32447;&#31243;&#23433;&#20840;&#30340;&#20840;&#23616;&#21807;&#19968;ID&#29983;&#25104;&#22120;&#65306;</p>
<pre><code>class IdGenerator {
    AtomicLong var = new AtomicLong(0);

    public long getNextId() {
        return var.incrementAndGet();
    }
}
</code></pre>
<p>&#36890;&#24120;&#24773;&#20917;&#19979;&#65292;&#25105;&#20204;&#24182;&#19981;&#38656;&#35201;&#30452;&#25509;&#29992;<code>do ... while</code>&#24490;&#29615;&#35843;&#29992;<code>compareAndSet</code>&#23454;&#29616;&#22797;&#26434;&#30340;&#24182;&#21457;&#25805;&#20316;&#65292;&#32780;&#26159;&#29992;<code>incrementAndGet()</code>&#36825;&#26679;&#30340;&#23553;&#35013;&#22909;&#30340;&#26041;&#27861;&#65292;&#22240;&#27492;&#65292;&#20351;&#29992;&#36215;&#26469;&#38750;&#24120;&#31616;&#21333;&#12290;</p>
<p>&#22312;&#39640;&#24230;&#31454;&#20105;&#30340;&#24773;&#20917;&#19979;&#65292;&#36824;&#21487;&#20197;&#20351;&#29992;Java 8&#25552;&#20379;&#30340;<code>LongAdder</code>&#21644;<code>LongAccumulator</code>&#12290;</p>
<h3>&#23567;&#32467;</h3>
<p>&#20351;&#29992;<code>java.util.concurrent.atomic</code>&#25552;&#20379;&#30340;&#21407;&#23376;&#25805;&#20316;&#21487;&#20197;&#31616;&#21270;&#22810;&#32447;&#31243;&#32534;&#31243;&#65306;</p>
<ul>
<li>
<p>&#21407;&#23376;&#25805;&#20316;&#23454;&#29616;&#20102;&#26080;&#38145;&#30340;&#32447;&#31243;&#23433;&#20840;&#65307;</p>
</li>
<li>
<p>&#36866;&#29992;&#20110;&#35745;&#25968;&#22120;&#65292;&#32047;&#21152;&#22120;&#31561;&#12290;</p>
</li>
</ul>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
