<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>&#21629;&#20196;</h4>
    <div class="x-wiki-info">
    	<span>Reads: 716</span>
    	<a href="/manage/wiki/wikipage_update?id=1281319491338273" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<blockquote>
<p>&#23558;&#19968;&#20010;&#35831;&#27714;&#23553;&#35013;&#20026;&#19968;&#20010;&#23545;&#35937;&#65292;&#20174;&#32780;&#20351;&#20320;&#21487;&#29992;&#19981;&#21516;&#30340;&#35831;&#27714;&#23545;&#23458;&#25143;&#36827;&#34892;&#21442;&#25968;&#21270;&#65292;&#23545;&#35831;&#27714;&#25490;&#38431;&#25110;&#35760;&#24405;&#35831;&#27714;&#26085;&#24535;&#65292;&#20197;&#21450;&#25903;&#25345;&#21487;&#25764;&#38144;&#30340;&#25805;&#20316;&#12290;</p>
</blockquote>
<p>&#21629;&#20196;&#27169;&#24335;&#65288;Command&#65289;&#26159;&#25351;&#65292;&#25226;&#35831;&#27714;&#23553;&#35013;&#25104;&#19968;&#20010;&#21629;&#20196;&#65292;&#28982;&#21518;&#25191;&#34892;&#35813;&#21629;&#20196;&#12290;</p>
<p>&#22312;&#20351;&#29992;&#21629;&#20196;&#27169;&#24335;&#21069;&#65292;&#25105;&#20204;&#20808;&#20197;&#19968;&#20010;&#32534;&#36753;&#22120;&#20026;&#20363;&#23376;&#65292;&#30475;&#30475;&#22914;&#20309;&#23454;&#29616;&#31616;&#21333;&#30340;&#32534;&#36753;&#25805;&#20316;&#65306;</p>
<pre><code>public class TextEditor {
    private StringBuilder buffer = new StringBuilder();

    public void copy() {
        ...
    }

    public void paste() {
        String text = getFromClipBoard();
        add(text);
    }

    public void add(String s) {
        buffer.append(s);
    }

    public void delete() {
        if (buffer.length() &gt; 0) {
            buffer.deleteCharAt(buffer.length() - 1);
        }
    }

    public String getState() {
        return buffer.toString();
    }
}
</code></pre>
<p>&#25105;&#20204;&#29992;&#19968;&#20010;<code>StringBuilder</code>&#27169;&#25311;&#19968;&#20010;&#25991;&#26412;&#32534;&#36753;&#22120;&#65292;&#23427;&#25903;&#25345;<code>copy()</code>&#12289;<code>paste()</code>&#12289;<code>add()</code>&#12289;<code>delete()</code>&#31561;&#26041;&#27861;&#12290;</p>
<p>&#27491;&#24120;&#24773;&#20917;&#65292;&#25105;&#20204;&#20687;&#36825;&#26679;&#35843;&#29992;<code>TextEditor</code>&#65306;</p>
<pre><code>TextEditor editor = new TextEditor();
editor.add("Command pattern in text editor.\n");
editor.copy();
editor.paste();
System.out.println(editor.getState());
</code></pre>
<p>&#36825;&#26159;&#30452;&#25509;&#35843;&#29992;&#26041;&#27861;&#65292;&#35843;&#29992;&#26041;&#38656;&#35201;&#20102;&#35299;<code>TextEditor</code>&#30340;&#25152;&#26377;&#25509;&#21475;&#20449;&#24687;&#12290;</p>
<p>&#22914;&#26524;&#25913;&#29992;&#21629;&#20196;&#27169;&#24335;&#65292;&#25105;&#20204;&#23601;&#35201;&#25226;&#35843;&#29992;&#26041;&#21457;&#36865;&#21629;&#20196;&#21644;&#25191;&#34892;&#26041;&#25191;&#34892;&#21629;&#20196;&#20998;&#24320;&#12290;&#24590;&#20040;&#20998;&#65311;</p>
<p>&#35299;&#20915;&#26041;&#26696;&#26159;&#24341;&#20837;&#19968;&#20010;<code>Command</code>&#25509;&#21475;&#65306;</p>
<pre><code>public interface Command {
    void execute();
}
</code></pre>
<p>&#35843;&#29992;&#26041;&#21019;&#24314;&#19968;&#20010;&#23545;&#24212;&#30340;<code>Command</code>&#65292;&#28982;&#21518;&#25191;&#34892;&#65292;&#24182;&#19981;&#20851;&#24515;&#20869;&#37096;&#26159;&#22914;&#20309;&#20855;&#20307;&#25191;&#34892;&#30340;&#12290;</p>
<p>&#20026;&#20102;&#25903;&#25345;<code>CopyCommand</code>&#21644;<code>PasteCommand</code>&#36825;&#20004;&#20010;&#21629;&#20196;&#65292;&#25105;&#20204;&#20174;<code>Command</code>&#25509;&#21475;&#27966;&#29983;&#65306;</p>
<pre><code>public class CopyCommand implements Command {
    // &#25345;&#26377;&#25191;&#34892;&#32773;&#23545;&#35937;:
    private TextEditor receiver;

    public CopyCommand(TextEditor receiver) {
        this.receiver = receiver;
    }

    public void execute() {
        receiver.copy();
    }
}

public class PasteCommand implements Command {
    private TextEditor receiver;

    public PasteCommand(TextEditor receiver) {
        this.receiver = receiver;
    }

    public void execute() {
        receiver.paste();
    }
}
</code></pre>
<p>&#26368;&#21518;&#25105;&#20204;&#25226;<code>Command</code>&#21644;<code>TextEditor</code>&#32452;&#35013;&#19968;&#19979;&#65292;&#23458;&#25143;&#31471;&#36825;&#20040;&#20889;&#65306;</p>
<pre><code>TextEditor editor = new TextEditor();
editor.add("Command pattern in text editor.\n");
// &#25191;&#34892;&#19968;&#20010;CopyCommand:
Command copy = new CopyCommand(editor);
copy.execute();
editor.add("----\n");
// &#25191;&#34892;&#19968;&#20010;PasteCommand:
Command paste = new PasteCommand(editor);
paste.execute();
System.out.println(editor.getState());
</code></pre>
<p>&#36825;&#23601;&#26159;&#21629;&#20196;&#27169;&#24335;&#30340;&#32467;&#26500;&#65306;</p>
<pre><code class="language-ascii">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;      &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;Client&#9474;&#9472; &#9472; &#9472;&gt;&#9474;Command&#9474;
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;      &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
                  &#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
                  &#9500;&#9472;&gt;&#9474; CopyCommand  &#9474;
                  &#9474;  &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;
                  &#9474;  &#9474;editor.copy() &#9474;&#9472; &#9488;
                  &#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
                  &#9474;                    &#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
                  &#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;   &#9472;&gt;&#9474; TextEditor &#9474;
                  &#9492;&#9472;&gt;&#9474; PasteCommand &#9474;  &#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
                     &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;
                     &#9474;editor.paste()&#9474;&#9472; &#9496;
                     &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</code></pre>
<p>&#26377;&#30340;&#31461;&#38795;&#20250;&#26377;&#30097;&#38382;&#65306;&#25630;&#20102;&#19968;&#22823;&#22534;<code>Command</code>&#65292;&#22810;&#20102;&#22909;&#20960;&#20010;&#31867;&#65292;&#36824;&#19981;&#22914;&#30452;&#25509;&#36825;&#20040;&#20889;&#31616;&#21333;&#65306;</p>
<pre><code>TextEditor editor = new TextEditor();
editor.add("Command pattern in text editor.\n");
editor.copy();
editor.paste();
</code></pre>
<p>&#23454;&#38469;&#19978;&#65292;&#20351;&#29992;&#21629;&#20196;&#27169;&#24335;&#65292;&#30830;&#23454;&#22686;&#21152;&#20102;&#31995;&#32479;&#30340;&#22797;&#26434;&#24230;&#12290;&#22914;&#26524;&#38656;&#27714;&#24456;&#31616;&#21333;&#65292;&#37027;&#20040;&#30452;&#25509;&#35843;&#29992;&#26174;&#28982;&#26356;&#30452;&#35266;&#32780;&#19988;&#26356;&#31616;&#21333;&#12290;</p>
<p>&#37027;&#20040;&#25105;&#20204;&#36824;&#38656;&#35201;&#21629;&#20196;&#27169;&#24335;&#21527;&#65311;</p>
<p>&#31572;&#26696;&#26159;&#35270;&#38656;&#27714;&#32780;&#23450;&#12290;&#22914;&#26524;<code>TextEditor</code>&#22797;&#26434;&#21040;&#19968;&#23450;&#31243;&#24230;&#65292;&#24182;&#19988;&#38656;&#35201;&#25903;&#25345;Undo&#12289;Redo&#30340;&#21151;&#33021;&#26102;&#65292;&#23601;&#38656;&#35201;&#20351;&#29992;&#21629;&#20196;&#27169;&#24335;&#65292;&#22240;&#20026;&#25105;&#20204;&#21487;&#20197;&#32473;&#27599;&#20010;&#21629;&#20196;&#22686;&#21152;<code>undo()</code>&#65306;</p>
<pre><code>public interface Command {
    void execute();
    void undo();
}
</code></pre>
<p>&#28982;&#21518;&#25226;&#25191;&#34892;&#30340;&#19968;&#31995;&#21015;&#21629;&#20196;&#29992;<code>List</code>&#20445;&#23384;&#36215;&#26469;&#65292;&#23601;&#26082;&#33021;&#25903;&#25345;Undo&#65292;&#21448;&#33021;&#25903;&#25345;Redo&#12290;&#36825;&#20010;&#26102;&#20505;&#65292;&#25105;&#20204;&#21448;&#38656;&#35201;&#19968;&#20010;<code>Invoker</code>&#23545;&#35937;&#65292;&#36127;&#36131;&#25191;&#34892;&#21629;&#20196;&#24182;&#20445;&#23384;&#21382;&#21490;&#21629;&#20196;&#65306;</p>
<pre><code class="language-ascii">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;   Client    &#9474;
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
       &#9474;

       &#9474;
       &#9660;
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;   Invoker   &#9474;
&#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;List commands&#9474;&#9472; &#9472;&gt;&#9474;Command&#9474;
&#9474;invoke(c)    &#9474;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
&#9474;undo()       &#9474;        &#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;        &#9500;&#9472;&gt;&#9474; CopyCommand  &#9474;
                       &#9474;  &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;
                       &#9474;  &#9474;editor.copy() &#9474;&#9472; &#9488;
                       &#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
                       &#9474;                    &#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
                       &#9474;  &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;   &#9472;&gt;&#9474; TextEditor &#9474;
                       &#9492;&#9472;&gt;&#9474; PasteCommand &#9474;  &#9474;  &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
                          &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;
                          &#9474;editor.paste()&#9474;&#9472; &#9496;
                          &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</code></pre>
<p>&#21487;&#35265;&#65292;&#27169;&#24335;&#24102;&#26469;&#30340;&#35774;&#35745;&#22797;&#26434;&#24230;&#30340;&#22686;&#21152;&#26159;&#38543;&#30528;&#38656;&#27714;&#32780;&#22686;&#21152;&#30340;&#65292;&#23427;&#20943;&#23569;&#30340;&#26159;&#31995;&#32479;&#21508;&#32452;&#20214;&#30340;&#32806;&#21512;&#24230;&#12290;</p>
<h3>&#32451;&#20064;</h3>
<p>&#32473;&#21629;&#20196;&#27169;&#24335;&#26032;&#22686;Add&#21644;Delete&#21629;&#20196;&#24182;&#25903;&#25345;Undo&#12289;Redo&#25805;&#20316;&#12290;</p>
<p><a href="https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/Java%E6%95%99%E7%A8%8B/190.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.1264742167474528/30.%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F.1281319453589538/20.%E5%91%BD%E4%BB%A4.1281319491338273/pattern-command.zip">&#21629;&#20196;&#27169;&#24335;&#32451;&#20064;</a></p>
<h3>&#23567;&#32467;</h3>
<p>&#21629;&#20196;&#27169;&#24335;&#30340;&#35774;&#35745;&#24605;&#24819;&#26159;&#25226;&#21629;&#20196;&#30340;&#21019;&#24314;&#21644;&#25191;&#34892;&#20998;&#31163;&#65292;&#20351;&#24471;&#35843;&#29992;&#32773;&#26080;&#38656;&#20851;&#24515;&#20855;&#20307;&#30340;&#25191;&#34892;&#36807;&#31243;&#12290;</p>
<p>&#36890;&#36807;&#23553;&#35013;<code>Command</code>&#23545;&#35937;&#65292;&#21629;&#20196;&#27169;&#24335;&#21487;&#20197;&#20445;&#23384;&#24050;&#25191;&#34892;&#30340;&#21629;&#20196;&#65292;&#20174;&#32780;&#25903;&#25345;&#25764;&#38144;&#12289;&#37325;&#20570;&#31561;&#25805;&#20316;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
