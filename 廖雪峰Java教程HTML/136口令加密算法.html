<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>&#21475;&#20196;&#21152;&#23494;&#31639;&#27861;</h4>
    <div class="x-wiki-info">
    	<span>Reads: 14624</span>
    	<a href="/manage/wiki/wikipage_update?id=1304227859136546" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<p>&#19978;&#19968;&#33410;&#25105;&#20204;&#35762;&#30340;AES&#21152;&#23494;&#65292;&#32454;&#24515;&#30340;&#31461;&#38795;&#21487;&#33021;&#20250;&#21457;&#29616;&#65292;&#23494;&#38053;&#38271;&#24230;&#26159;&#22266;&#23450;&#30340;128/192/256&#20301;&#65292;&#32780;&#19981;&#26159;&#25105;&#20204;&#29992;WinZip/WinRAR&#37027;&#26679;&#65292;&#38543;&#20415;&#36755;&#20837;&#20960;&#20301;&#37117;&#21487;&#20197;&#12290;</p>
<p>&#36825;&#26159;&#22240;&#20026;&#23545;&#31216;&#21152;&#23494;&#31639;&#27861;&#20915;&#23450;&#20102;&#21475;&#20196;&#24517;&#39035;&#26159;&#22266;&#23450;&#38271;&#24230;&#65292;&#28982;&#21518;&#23545;&#26126;&#25991;&#36827;&#34892;&#20998;&#22359;&#21152;&#23494;&#12290;&#21448;&#22240;&#20026;&#23433;&#20840;&#38656;&#27714;&#65292;&#21475;&#20196;&#38271;&#24230;&#24448;&#24448;&#37117;&#26159;128&#20301;&#20197;&#19978;&#65292;&#21363;&#33267;&#23569;16&#20010;&#23383;&#31526;&#12290;</p>
<p>&#20294;&#26159;&#25105;&#20204;&#24179;&#26102;&#20351;&#29992;&#30340;&#21152;&#23494;&#36719;&#20214;&#65292;&#36755;&#20837;6&#20301;&#12289;8&#20301;&#37117;&#21487;&#20197;&#65292;&#38590;&#36947;&#21152;&#23494;&#26041;&#24335;&#19981;&#19968;&#26679;&#65311;</p>
<p>&#23454;&#38469;&#19978;&#29992;&#25143;&#36755;&#20837;&#30340;&#21475;&#20196;&#24182;&#19981;&#33021;&#30452;&#25509;&#20316;&#20026;AES&#30340;&#23494;&#38053;&#36827;&#34892;&#21152;&#23494;&#65288;&#38500;&#38750;&#38271;&#24230;&#24688;&#22909;&#26159;128/192/256&#20301;&#65289;&#65292;&#24182;&#19988;&#29992;&#25143;&#36755;&#20837;&#30340;&#21475;&#20196;&#19968;&#33324;&#37117;&#26377;&#35268;&#24459;&#65292;&#23433;&#20840;&#24615;&#36828;&#36828;&#19981;&#22914;&#23433;&#20840;&#38543;&#26426;&#25968;&#20135;&#29983;&#30340;&#38543;&#26426;&#21475;&#20196;&#12290;&#22240;&#27492;&#65292;&#29992;&#25143;&#36755;&#20837;&#30340;&#21475;&#20196;&#65292;&#36890;&#24120;&#36824;&#38656;&#35201;&#20351;&#29992;PBE&#31639;&#27861;&#65292;&#37319;&#29992;&#38543;&#26426;&#25968;&#26434;&#20945;&#35745;&#31639;&#20986;&#30495;&#27491;&#30340;&#23494;&#38053;&#65292;&#20877;&#36827;&#34892;&#21152;&#23494;&#12290;</p>
<p>PBE&#23601;&#26159;Password Based Encryption&#30340;&#32553;&#20889;&#65292;&#23427;&#30340;&#20316;&#29992;&#22914;&#19979;&#65306;</p>
<pre><code>key = generate(userPassword, secureRandomPassword);
</code></pre>
<p>PBE&#30340;&#20316;&#29992;&#23601;&#26159;&#25226;&#29992;&#25143;&#36755;&#20837;&#30340;&#21475;&#20196;&#21644;&#19968;&#20010;&#23433;&#20840;&#38543;&#26426;&#30340;&#21475;&#20196;&#37319;&#29992;&#26434;&#20945;&#21518;&#35745;&#31639;&#20986;&#30495;&#27491;&#30340;&#23494;&#38053;&#12290;&#20197;AES&#23494;&#38053;&#20026;&#20363;&#65292;&#25105;&#20204;&#35753;&#29992;&#25143;&#36755;&#20837;&#19968;&#20010;&#21475;&#20196;&#65292;&#28982;&#21518;&#29983;&#25104;&#19968;&#20010;&#38543;&#26426;&#25968;&#65292;&#36890;&#36807;PBE&#31639;&#27861;&#35745;&#31639;&#20986;&#30495;&#27491;&#30340;AES&#21475;&#20196;&#65292;&#20877;&#36827;&#34892;&#21152;&#23494;&#65292;&#20195;&#30721;&#22914;&#19979;&#65306;</p>
<pre><code>public class Main {
    public static void main(String[] args) throws Exception {
        // &#25226;BouncyCastle&#20316;&#20026;Provider&#28155;&#21152;&#21040;java.security:
        Security.addProvider(new BouncyCastleProvider());
        // &#21407;&#25991;:
        String message = "Hello, world!";
        // &#21152;&#23494;&#21475;&#20196;:
        String password = "hello12345";
        // 16 bytes&#38543;&#26426;Salt:
        byte[] salt = SecureRandom.getInstanceStrong().generateSeed(16);
        System.out.printf("salt: %032x\n", new BigInteger(1, salt));
        // &#21152;&#23494;:
        byte[] data = message.getBytes("UTF-8");
        byte[] encrypted = encrypt(password, salt, data);
        System.out.println("encrypted: " + Base64.getEncoder().encodeToString(encrypted));
        // &#35299;&#23494;:
        byte[] decrypted = decrypt(password, salt, encrypted);
        System.out.println("decrypted: " + new String(decrypted, "UTF-8"));
    }

    // &#21152;&#23494;:
    public static byte[] encrypt(String password, byte[] salt, byte[] input) throws GeneralSecurityException {
        PBEKeySpec keySpec = new PBEKeySpec(password.toCharArray());
        SecretKeyFactory skeyFactory = SecretKeyFactory.getInstance("PBEwithSHA1and128bitAES-CBC-BC");
        SecretKey skey = skeyFactory.generateSecret(keySpec);
        PBEParameterSpec pbeps = new PBEParameterSpec(salt, 1000);
        Cipher cipher = Cipher.getInstance("PBEwithSHA1and128bitAES-CBC-BC");
        cipher.init(Cipher.ENCRYPT_MODE, skey, pbeps);
        return cipher.doFinal(input);
    }

    // &#35299;&#23494;:
    public static byte[] decrypt(String password, byte[] salt, byte[] input) throws GeneralSecurityException {
        PBEKeySpec keySpec = new PBEKeySpec(password.toCharArray());
        SecretKeyFactory skeyFactory = SecretKeyFactory.getInstance("PBEwithSHA1and128bitAES-CBC-BC");
        SecretKey skey = skeyFactory.generateSecret(keySpec);
        PBEParameterSpec pbeps = new PBEParameterSpec(salt, 1000);
        Cipher cipher = Cipher.getInstance("PBEwithSHA1and128bitAES-CBC-BC");
        cipher.init(Cipher.DECRYPT_MODE, skey, pbeps);
        return cipher.doFinal(input);
    }
}
</code></pre>
<p>&#20351;&#29992;PBE&#26102;&#65292;&#25105;&#20204;&#36824;&#38656;&#35201;&#24341;&#20837;BouncyCastle&#65292;&#24182;&#25351;&#23450;&#31639;&#27861;&#26159;<code>PBEwithSHA1and128bitAES-CBC-BC</code>&#12290;&#35266;&#23519;&#20195;&#30721;&#65292;&#23454;&#38469;&#19978;&#30495;&#27491;&#30340;AES&#23494;&#38053;&#26159;&#35843;&#29992;<code>Cipher</code>&#30340;<code>init()</code>&#26041;&#27861;&#26102;&#21516;&#26102;&#20256;&#20837;<code>SecretKey</code>&#21644;<code>PBEParameterSpec</code>&#23454;&#29616;&#30340;&#12290;&#22312;&#21019;&#24314;<code>PBEParameterSpec</code>&#30340;&#26102;&#20505;&#65292;&#25105;&#20204;&#36824;&#25351;&#23450;&#20102;&#24490;&#29615;&#27425;&#25968;<code>1000</code>&#65292;&#24490;&#29615;&#27425;&#25968;&#36234;&#22810;&#65292;&#26292;&#21147;&#30772;&#35299;&#38656;&#35201;&#30340;&#35745;&#31639;&#37327;&#23601;&#36234;&#22823;&#12290;</p>
<p>&#22914;&#26524;&#25105;&#20204;&#25226;salt&#21644;&#24490;&#29615;&#27425;&#25968;&#22266;&#23450;&#65292;&#23601;&#24471;&#21040;&#20102;&#19968;&#20010;&#36890;&#29992;&#30340;&#8220;&#21475;&#20196;&#8221;&#21152;&#23494;&#36719;&#20214;&#12290;&#22914;&#26524;&#25105;&#20204;&#25226;&#38543;&#26426;&#29983;&#25104;&#30340;salt&#23384;&#20648;&#22312;U&#30424;&#65292;&#23601;&#24471;&#21040;&#20102;&#19968;&#20010;&#8220;&#21475;&#20196;&#8221;&#21152;USB Key&#30340;&#21152;&#23494;&#36719;&#20214;&#65292;&#23427;&#30340;&#22909;&#22788;&#22312;&#20110;&#65292;&#21363;&#20351;&#29992;&#25143;&#20351;&#29992;&#20102;&#19968;&#20010;&#38750;&#24120;&#24369;&#30340;&#21475;&#20196;&#65292;&#27809;&#26377;USB Key&#20173;&#28982;&#26080;&#27861;&#35299;&#23494;&#65292;&#22240;&#20026;USB Key&#23384;&#20648;&#30340;&#38543;&#26426;&#25968;&#23494;&#38053;&#23433;&#20840;&#24615;&#38750;&#24120;&#39640;&#12290;</p>
<h3>&#23567;&#32467;</h3>
<p>PBE&#31639;&#27861;&#36890;&#36807;&#29992;&#25143;&#21475;&#20196;&#21644;&#23433;&#20840;&#30340;&#38543;&#26426;salt&#35745;&#31639;&#20986;Key&#65292;&#28982;&#21518;&#20877;&#36827;&#34892;&#21152;&#23494;&#65307;</p>
<p>Key&#36890;&#36807;&#21475;&#20196;&#21644;&#23433;&#20840;&#30340;&#38543;&#26426;salt&#35745;&#31639;&#24471;&#20986;&#65292;&#22823;&#22823;&#25552;&#39640;&#20102;&#23433;&#20840;&#24615;&#65307;</p>
<p>PBE&#31639;&#27861;&#20869;&#37096;&#20351;&#29992;&#30340;&#20173;&#28982;&#26159;&#26631;&#20934;&#23545;&#31216;&#21152;&#23494;&#31639;&#27861;&#65288;&#20363;&#22914;AES&#65289;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
