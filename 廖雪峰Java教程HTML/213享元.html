<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>&#20139;&#20803;</h4>
    <div class="x-wiki-info">
    	<span>Reads: 475</span>
    	<a href="/manage/wiki/wikipage_update?id=1281319417937953" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<blockquote>
<p>&#36816;&#29992;&#20849;&#20139;&#25216;&#26415;&#26377;&#25928;&#22320;&#25903;&#25345;&#22823;&#37327;&#32454;&#31890;&#24230;&#30340;&#23545;&#35937;&#12290;</p>
</blockquote>
<p>&#20139;&#20803;&#65288;Flyweight&#65289;&#30340;&#26680;&#24515;&#24605;&#24819;&#24456;&#31616;&#21333;&#65306;&#22914;&#26524;&#19968;&#20010;&#23545;&#35937;&#23454;&#20363;&#19968;&#32463;&#21019;&#24314;&#23601;&#19981;&#21487;&#21464;&#65292;&#37027;&#20040;&#21453;&#22797;&#21019;&#24314;&#30456;&#21516;&#30340;&#23454;&#20363;&#23601;&#27809;&#26377;&#24517;&#35201;&#65292;&#30452;&#25509;&#21521;&#35843;&#29992;&#26041;&#36820;&#22238;&#19968;&#20010;&#20849;&#20139;&#30340;&#23454;&#20363;&#23601;&#34892;&#65292;&#36825;&#26679;&#21363;&#33410;&#30465;&#20869;&#23384;&#65292;&#21448;&#21487;&#20197;&#20943;&#23569;&#21019;&#24314;&#23545;&#35937;&#30340;&#36807;&#31243;&#65292;&#25552;&#39640;&#36816;&#34892;&#36895;&#24230;&#12290;</p>
<p>&#20139;&#20803;&#27169;&#24335;&#22312;Java&#26631;&#20934;&#24211;&#20013;&#26377;&#24456;&#22810;&#24212;&#29992;&#12290;&#25105;&#20204;&#30693;&#36947;&#65292;&#21253;&#35013;&#31867;&#22411;&#22914;<code>Byte</code>&#12289;<code>Integer</code>&#37117;&#26159;&#19981;&#21464;&#31867;&#65292;&#22240;&#27492;&#65292;&#21453;&#22797;&#21019;&#24314;&#21516;&#19968;&#20010;&#20540;&#30456;&#21516;&#30340;&#21253;&#35013;&#31867;&#22411;&#26159;&#27809;&#26377;&#24517;&#35201;&#30340;&#12290;&#20197;<code>Integer</code>&#20026;&#20363;&#65292;&#22914;&#26524;&#25105;&#20204;&#36890;&#36807;<code>Integer.valueOf()</code>&#36825;&#20010;&#38745;&#24577;&#24037;&#21378;&#26041;&#27861;&#21019;&#24314;<code>Integer</code>&#23454;&#20363;&#65292;&#24403;&#20256;&#20837;&#30340;<code>int</code>&#33539;&#22260;&#22312;<code>-128</code>~<code>+127</code>&#20043;&#38388;&#26102;&#65292;&#20250;&#30452;&#25509;&#36820;&#22238;&#32531;&#23384;&#30340;<code>Integer</code>&#23454;&#20363;&#65306;</p>
<pre><code class="language-x-java">// &#20139;&#20803;&#27169;&#24335;
----
public class Main {
    public static void main(String[] args) throws InterruptedException {
        Integer n1 = Integer.valueOf(100);
        Integer n2 = Integer.valueOf(100);
        System.out.println(n1 == n2); // true
    }
}
</code></pre>
<p>&#23545;&#20110;<code>Byte</code>&#26469;&#35828;&#65292;&#22240;&#20026;&#23427;&#19968;&#20849;&#21482;&#26377;256&#20010;&#29366;&#24577;&#65292;&#25152;&#20197;&#65292;&#36890;&#36807;<code>Byte.valueOf()</code>&#21019;&#24314;&#30340;<code>Byte</code>&#23454;&#20363;&#65292;&#20840;&#37096;&#37117;&#26159;&#32531;&#23384;&#23545;&#35937;&#12290;</p>
<p>&#22240;&#27492;&#65292;&#20139;&#20803;&#27169;&#24335;&#23601;&#26159;&#36890;&#36807;&#24037;&#21378;&#26041;&#27861;&#21019;&#24314;&#23545;&#35937;&#65292;&#22312;&#24037;&#21378;&#26041;&#27861;&#20869;&#37096;&#65292;&#24456;&#21487;&#33021;&#36820;&#22238;&#32531;&#23384;&#30340;&#23454;&#20363;&#65292;&#32780;&#19981;&#26159;&#26032;&#21019;&#24314;&#23454;&#20363;&#65292;&#20174;&#32780;&#23454;&#29616;&#19981;&#21487;&#21464;&#23454;&#20363;&#30340;&#22797;&#29992;&#12290;</p>
<pre><code class="language-?">&#24635;&#26159;&#20351;&#29992;&#24037;&#21378;&#26041;&#27861;&#32780;&#19981;&#26159;new&#25805;&#20316;&#31526;&#21019;&#24314;&#23454;&#20363;&#65292;&#21487;&#33719;&#24471;&#20139;&#20803;&#27169;&#24335;&#30340;&#22909;&#22788;&#12290;
</code></pre>
<p>&#22312;&#23454;&#38469;&#24212;&#29992;&#20013;&#65292;&#20139;&#20803;&#27169;&#24335;&#20027;&#35201;&#24212;&#29992;&#20110;&#32531;&#23384;&#65292;&#21363;&#23458;&#25143;&#31471;&#22914;&#26524;&#37325;&#22797;&#35831;&#27714;&#26576;&#20123;&#23545;&#35937;&#65292;&#19981;&#24517;&#27599;&#27425;&#26597;&#35810;&#25968;&#25454;&#24211;&#25110;&#32773;&#35835;&#21462;&#25991;&#20214;&#65292;&#32780;&#26159;&#30452;&#25509;&#36820;&#22238;&#20869;&#23384;&#20013;&#32531;&#23384;&#30340;&#25968;&#25454;&#12290;</p>
<p>&#25105;&#20204;&#20197;<code>Student</code>&#20026;&#20363;&#65292;&#35774;&#35745;&#19968;&#20010;&#38745;&#24577;&#24037;&#21378;&#26041;&#27861;&#65292;&#23427;&#22312;&#20869;&#37096;&#21487;&#20197;&#36820;&#22238;&#32531;&#23384;&#30340;&#23545;&#35937;&#65306;</p>
<pre><code>public class Student {
    // &#25345;&#26377;&#32531;&#23384;:
    private static final Map&lt;String, Student&gt; cache = new HashMap&lt;&gt;();

    // &#38745;&#24577;&#24037;&#21378;&#26041;&#27861;:
    public static Student create(int id, String name) {
        String key = id + "\n" + name;
        // &#20808;&#26597;&#25214;&#32531;&#23384;:
        Student std = cache.get(key);
        if (std == null) {
            // &#26410;&#25214;&#21040;,&#21019;&#24314;&#26032;&#23545;&#35937;:
            System.out.println(String.format("create new Student(%s, %s)", id, name));
            std = new Student(id, name);
            // &#25918;&#20837;&#32531;&#23384;:
            cache.put(key, std);
        } else {
            // &#32531;&#23384;&#20013;&#23384;&#22312;:
            System.out.println(String.format("return cached Student(%s, %s)", std.id, std.name));
        }
        return std;
    }

    private final int id;
    private final String name;

    public Student(int id, String name) {
        this.id = id;
        this.name = name;
    }
}
</code></pre>
<p>&#22312;&#23454;&#38469;&#24212;&#29992;&#20013;&#65292;&#25105;&#20204;&#32463;&#24120;&#20351;&#29992;&#25104;&#29087;&#30340;&#32531;&#23384;&#24211;&#65292;&#20363;&#22914;<a href="https://github.com/google/guava">Guava</a>&#30340;<a href="https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/Cache.java">Cache</a>&#65292;&#22240;&#20026;&#23427;&#25552;&#20379;&#20102;&#26368;&#22823;&#32531;&#23384;&#25968;&#37327;&#38480;&#21046;&#12289;&#23450;&#26102;&#36807;&#26399;&#31561;&#23454;&#29992;&#21151;&#33021;&#12290;</p>
<h3>&#32451;&#20064;</h3>
<p><a href="https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/Java%E6%95%99%E7%A8%8B/190.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.1264742167474528/20.%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F.1281319233388578/60.%E4%BA%AB%E5%85%83.1281319417937953/pattern-flyweight.zip">&#20351;&#29992;&#20139;&#20803;&#27169;&#24335;&#23454;&#29616;&#32531;&#23384;</a></p>
<h3>&#23567;&#32467;</h3>
<p>&#20139;&#20803;&#27169;&#24335;&#30340;&#35774;&#35745;&#24605;&#24819;&#26159;&#23613;&#37327;&#22797;&#29992;&#24050;&#21019;&#24314;&#30340;&#23545;&#35937;&#65292;&#24120;&#29992;&#20110;&#24037;&#21378;&#26041;&#27861;&#20869;&#37096;&#30340;&#20248;&#21270;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
