<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>&#21457;&#36865;Email</h4>
    <div class="x-wiki-info">
    	<span>Reads: 9906</span>
    	<a href="/manage/wiki/wikipage_update?id=1319099923693601" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<p>Email&#23601;&#26159;&#30005;&#23376;&#37038;&#20214;&#12290;&#30005;&#23376;&#37038;&#20214;&#30340;&#24212;&#29992;&#24050;&#32463;&#26377;&#20960;&#21313;&#24180;&#30340;&#21382;&#21490;&#20102;&#65292;&#25105;&#20204;&#29087;&#24713;&#30340;&#37038;&#31665;&#22320;&#22336;&#27604;&#22914;<code>abc@example.com</code>&#65292;&#37038;&#20214;&#36719;&#20214;&#27604;&#22914;Outlook&#37117;&#26159;&#29992;&#26469;&#25910;&#21457;&#37038;&#20214;&#30340;&#12290;</p>
<p>&#20351;&#29992;Java&#31243;&#24207;&#20063;&#21487;&#20197;&#25910;&#21457;&#30005;&#23376;&#37038;&#20214;&#12290;&#25105;&#20204;&#20808;&#26469;&#30475;&#19968;&#19979;&#20256;&#32479;&#30340;&#37038;&#20214;&#26159;&#22914;&#20309;&#21457;&#36865;&#30340;&#12290;</p>
<p>&#20256;&#32479;&#30340;&#37038;&#20214;&#26159;&#36890;&#36807;&#37038;&#23616;&#25237;&#36882;&#65292;&#28982;&#21518;&#20174;&#19968;&#20010;&#37038;&#23616;&#21040;&#21478;&#19968;&#20010;&#37038;&#23616;&#65292;&#26368;&#32456;&#21040;&#36798;&#29992;&#25143;&#30340;&#37038;&#31665;&#65306;</p>
<pre><code class="language-ascii">           &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
           &#9474;PostOffice&#9474;    &#9474;PostOffice&#9474;     .&#9472;&#9472;&#9472;.
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    (   ( )
&#9474;&#9552;&#9552;&#9552; &#9617;&#9474;&#9472;&#9472;&#9472;&gt;&#9474; &#9484;&#9472;&#9488; &#9484;&#9488;&#9484;&#9488; &#9474;&#9472;&#9472;&#9472;&gt;&#9474; &#9484;&#9472;&#9488; &#9484;&#9488;&#9484;&#9488; &#9474;&#9472;&#9472;&#9472;&gt; `&#9472;&#9516;&#9472;'
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9474; &#9474;&#9617;&#9474; &#9492;&#9496;&#9492;&#9496; &#9474;    &#9474; &#9474;&#9617;&#9474; &#9492;&#9496;&#9492;&#9496; &#9474;       &#9474;
           &#9492;&#9472;&#9524;&#9472;&#9524;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9524;&#9472;&#9524;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;       &#9474;
</code></pre>
<p>&#30005;&#23376;&#37038;&#20214;&#30340;&#21457;&#36865;&#36807;&#31243;&#20063;&#26159;&#31867;&#20284;&#30340;&#65292;&#21482;&#19981;&#36807;&#26159;&#30005;&#23376;&#37038;&#20214;&#26159;&#20174;&#29992;&#25143;&#30005;&#33041;&#30340;&#37038;&#20214;&#36719;&#20214;&#65292;&#20363;&#22914;Outlook&#65292;&#21457;&#36865;&#21040;&#37038;&#20214;&#26381;&#21153;&#22120;&#19978;&#65292;&#21487;&#33021;&#32463;&#36807;&#33509;&#24178;&#20010;&#37038;&#20214;&#26381;&#21153;&#22120;&#30340;&#20013;&#36716;&#65292;&#26368;&#32456;&#21040;&#36798;&#23545;&#26041;&#37038;&#20214;&#26381;&#21153;&#22120;&#19978;&#65292;&#25910;&#20214;&#26041;&#23601;&#21487;&#20197;&#29992;&#36719;&#20214;&#25509;&#25910;&#37038;&#20214;&#65306;</p>
<pre><code class="language-ascii">             &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
             &#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;    &#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;    &#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;    &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;    &#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;    &#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;    &#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;    &#9474;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;
&#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;    &#9500;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9508;
&#9474;       &#9474;&#9472;&#9472;&#9472;&gt;&#9474;O &#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;&#9472;&#9472;&#9472;&gt;&#9474;O &#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;&#9472;&#9472;&#9472;&gt;&#9474;O &#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9617;&#9474;&lt;&#9472;&#9472;&#9472;&#9474;       &#9474;
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;    &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
   MUA           MTA            MTA            MDA           MUA
</code></pre>
<p>&#25105;&#20204;&#25226;&#31867;&#20284;Outlook&#36825;&#26679;&#30340;&#37038;&#20214;&#36719;&#20214;&#31216;&#20026;MUA&#65306;Mail User Agent&#65292;&#24847;&#24605;&#26159;&#32473;&#29992;&#25143;&#26381;&#21153;&#30340;&#37038;&#20214;&#20195;&#29702;&#65307;&#37038;&#20214;&#26381;&#21153;&#22120;&#21017;&#31216;&#20026;MTA&#65306;Mail Transfer Agent&#65292;&#24847;&#24605;&#26159;&#37038;&#20214;&#20013;&#36716;&#30340;&#20195;&#29702;&#65307;&#26368;&#32456;&#21040;&#36798;&#30340;&#37038;&#20214;&#26381;&#21153;&#22120;&#31216;&#20026;MDA&#65306;Mail Delivery Agent&#65292;&#24847;&#24605;&#26159;&#37038;&#20214;&#21040;&#36798;&#30340;&#20195;&#29702;&#12290;&#30005;&#23376;&#37038;&#20214;&#19968;&#26086;&#21040;&#36798;MDA&#65292;&#23601;&#19981;&#20877;&#21160;&#20102;&#12290;&#23454;&#38469;&#19978;&#65292;&#30005;&#23376;&#37038;&#20214;&#36890;&#24120;&#23601;&#23384;&#20648;&#22312;MDA&#26381;&#21153;&#22120;&#30340;&#30828;&#30424;&#19978;&#65292;&#28982;&#21518;&#31561;&#25910;&#20214;&#20154;&#36890;&#36807;&#36719;&#20214;&#25110;&#32773;&#30331;&#38470;&#27983;&#35272;&#22120;&#26597;&#30475;&#37038;&#20214;&#12290;</p>
<p>MTA&#21644;MDA&#36825;&#26679;&#30340;&#26381;&#21153;&#22120;&#36719;&#20214;&#36890;&#24120;&#26159;&#29616;&#25104;&#30340;&#65292;&#25105;&#20204;&#19981;&#20851;&#24515;&#36825;&#20123;&#26381;&#21153;&#22120;&#20869;&#37096;&#26159;&#22914;&#20309;&#36816;&#34892;&#30340;&#12290;&#35201;&#21457;&#36865;&#37038;&#20214;&#65292;&#25105;&#20204;&#20851;&#24515;&#30340;&#26159;&#22914;&#20309;&#32534;&#20889;&#19968;&#20010;MUA&#30340;&#36719;&#20214;&#65292;&#25226;&#37038;&#20214;&#21457;&#36865;&#21040;MTA&#19978;&#12290;</p>
<p>MUA&#21040;MTA&#21457;&#36865;&#37038;&#20214;&#30340;&#21327;&#35758;&#23601;&#26159;SMTP&#21327;&#35758;&#65292;&#23427;&#26159;Simple Mail Transport Protocol&#30340;&#32553;&#20889;&#65292;&#20351;&#29992;&#26631;&#20934;&#31471;&#21475;25&#65292;&#20063;&#21487;&#20197;&#20351;&#29992;&#21152;&#23494;&#31471;&#21475;465&#25110;587&#12290;</p>
<p>SMTP&#21327;&#35758;&#26159;&#19968;&#20010;&#24314;&#31435;&#22312;TCP&#20043;&#19978;&#30340;&#21327;&#35758;&#65292;&#20219;&#20309;&#31243;&#24207;&#21457;&#36865;&#37038;&#20214;&#37117;&#24517;&#39035;&#36981;&#23432;SMTP&#21327;&#35758;&#12290;&#20351;&#29992;Java&#31243;&#24207;&#21457;&#36865;&#37038;&#20214;&#26102;&#65292;&#25105;&#20204;&#26080;&#38656;&#20851;&#24515;SMTP&#21327;&#35758;&#30340;&#24213;&#23618;&#21407;&#29702;&#65292;&#21482;&#38656;&#35201;&#20351;&#29992;JavaMail&#36825;&#20010;&#26631;&#20934;API&#23601;&#21487;&#20197;&#30452;&#25509;&#21457;&#36865;&#37038;&#20214;&#12290;</p>
<h3>&#20934;&#22791;SMTP&#30331;&#24405;&#20449;&#24687;</h3>
<p>&#20551;&#35774;&#25105;&#20204;&#20934;&#22791;&#20351;&#29992;&#33258;&#24049;&#30340;&#37038;&#20214;&#22320;&#22336;<code>me@example.com</code>&#32473;&#23567;&#26126;&#21457;&#36865;&#37038;&#20214;&#65292;&#24050;&#30693;&#23567;&#26126;&#30340;&#37038;&#20214;&#22320;&#22336;&#26159;<code>xiaoming@somewhere.com</code>&#65292;&#21457;&#36865;&#37038;&#20214;&#21069;&#65292;&#25105;&#20204;&#39318;&#20808;&#35201;&#30830;&#23450;&#20316;&#20026;MTA&#30340;&#37038;&#20214;&#26381;&#21153;&#22120;&#22320;&#22336;&#21644;&#31471;&#21475;&#21495;&#12290;&#37038;&#20214;&#26381;&#21153;&#22120;&#22320;&#22336;&#36890;&#24120;&#26159;<code>smtp.example.com</code>&#65292;&#31471;&#21475;&#21495;&#30001;&#37038;&#20214;&#26381;&#21153;&#21830;&#30830;&#23450;&#20351;&#29992;25&#12289;465&#36824;&#26159;587&#12290;&#20197;&#19979;&#26159;&#19968;&#20123;&#24120;&#29992;&#37038;&#20214;&#26381;&#21153;&#21830;&#30340;SMTP&#20449;&#24687;&#65306;</p>
<ul>
<li>QQ&#37038;&#31665;&#65306;SMTP&#26381;&#21153;&#22120;&#26159;smtp.qq.com&#65292;&#31471;&#21475;&#26159;465/587&#65307;</li>
<li>163&#37038;&#31665;&#65306;SMTP&#26381;&#21153;&#22120;&#26159;smtp.163.com&#65292;&#31471;&#21475;&#26159;465&#65307;</li>
<li>Gmail&#37038;&#31665;&#65306;SMTP&#26381;&#21153;&#22120;&#26159;smtp.gmail.com&#65292;&#31471;&#21475;&#26159;465/587&#12290;</li>
</ul>
<p>&#26377;&#20102;SMTP&#26381;&#21153;&#22120;&#30340;&#22495;&#21517;&#21644;&#31471;&#21475;&#21495;&#65292;&#25105;&#20204;&#36824;&#38656;&#35201;SMTP&#26381;&#21153;&#22120;&#30340;&#30331;&#24405;&#20449;&#24687;&#65292;&#36890;&#24120;&#26159;&#20351;&#29992;&#33258;&#24049;&#30340;&#37038;&#20214;&#22320;&#22336;&#20316;&#20026;&#29992;&#25143;&#21517;&#65292;&#30331;&#24405;&#21475;&#20196;&#26159;&#29992;&#25143;&#21475;&#20196;&#25110;&#32773;&#19968;&#20010;&#29420;&#31435;&#35774;&#32622;&#30340;SMTP&#21475;&#20196;&#12290;</p>
<p>&#25105;&#20204;&#26469;&#30475;&#30475;&#22914;&#20309;&#20351;&#29992;JavaMail&#21457;&#36865;&#37038;&#20214;&#12290;</p>
<p>&#39318;&#20808;&#65292;&#25105;&#20204;&#38656;&#35201;&#21019;&#24314;&#19968;&#20010;Maven&#24037;&#31243;&#65292;&#24182;&#25226;JavaMail&#30456;&#20851;&#30340;&#20004;&#20010;&#20381;&#36182;&#21152;&#20837;&#36827;&#26469;&#65306;</p>
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;javax.mail&lt;/groupId&gt;
        &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;
        &lt;version&gt;1.6.2&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;
        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;
        &lt;version&gt;1.6.2&lt;/version&gt;
    &lt;/dependency&gt;
    ...
</code></pre>
<p>&#28982;&#21518;&#65292;&#25105;&#20204;&#36890;&#36807;JavaMail API&#36830;&#25509;&#21040;SMTP&#26381;&#21153;&#22120;&#19978;&#65306;</p>
<pre><code>// &#26381;&#21153;&#22120;&#22320;&#22336;:
String smtp = "smtp.office365.com";
// &#30331;&#24405;&#29992;&#25143;&#21517;:
String username = "jxsmtp101@outlook.com";
// &#30331;&#24405;&#21475;&#20196;:
String password = "********";
// &#36830;&#25509;&#21040;SMTP&#26381;&#21153;&#22120;587&#31471;&#21475;:
Properties props = new Properties();
props.put("mail.smtp.host", smtp); // SMTP&#20027;&#26426;&#21517;
props.put("mail.smtp.port", "587"); // &#20027;&#26426;&#31471;&#21475;&#21495;
props.put("mail.smtp.auth", "true"); // &#26159;&#21542;&#38656;&#35201;&#29992;&#25143;&#35748;&#35777;
props.put("mail.smtp.starttls.enable", "true"); // &#21551;&#29992;TLS&#21152;&#23494;
// &#33719;&#21462;Session&#23454;&#20363;:
Session session = Session.getInstance(props, new Authenticator() {
    protected PasswordAuthentication getPasswordAuthentication() {
        return new PasswordAuthentication(username, password);
    }
});
// &#35774;&#32622;debug&#27169;&#24335;&#20415;&#20110;&#35843;&#35797;:
session.setDebug(true);
</code></pre>
<p>&#20197;587&#31471;&#21475;&#20026;&#20363;&#65292;&#36830;&#25509;SMTP&#26381;&#21153;&#22120;&#26102;&#65292;&#38656;&#35201;&#20934;&#22791;&#19968;&#20010;Properties&#23545;&#35937;&#65292;&#22635;&#20837;&#30456;&#20851;&#20449;&#24687;&#12290;&#26368;&#21518;&#33719;&#21462;Session&#23454;&#20363;&#26102;&#65292;&#22914;&#26524;&#26381;&#21153;&#22120;&#38656;&#35201;&#35748;&#35777;&#65292;&#36824;&#38656;&#35201;&#20256;&#20837;&#19968;&#20010;Authenticator&#23545;&#35937;&#65292;&#24182;&#36820;&#22238;&#25351;&#23450;&#30340;&#29992;&#25143;&#21517;&#21644;&#21475;&#20196;&#12290;</p>
<p>&#24403;&#25105;&#20204;&#33719;&#21462;&#21040;Session&#23454;&#20363;&#21518;&#65292;&#25171;&#24320;&#35843;&#35797;&#27169;&#24335;&#21487;&#20197;&#30475;&#21040;SMTP&#36890;&#20449;&#30340;&#35814;&#32454;&#20869;&#23481;&#65292;&#20415;&#20110;&#35843;&#35797;&#12290;</p>
<h3>&#21457;&#36865;&#37038;&#20214;</h3>
<p>&#21457;&#36865;&#37038;&#20214;&#26102;&#65292;&#25105;&#20204;&#38656;&#35201;&#26500;&#36896;&#19968;&#20010;<code>Message</code>&#23545;&#35937;&#65292;&#28982;&#21518;&#35843;&#29992;<code>Transport.send(Message)</code>&#21363;&#21487;&#23436;&#25104;&#21457;&#36865;&#65306;</p>
<pre><code>MimeMessage message = new MimeMessage(session);
// &#35774;&#32622;&#21457;&#36865;&#26041;&#22320;&#22336;:
message.setFrom(new InternetAddress("me@example.com"));
// &#35774;&#32622;&#25509;&#25910;&#26041;&#22320;&#22336;:
message.setRecipient(Message.RecipientType.TO, new InternetAddress("xiaoming@somewhere.com"));
// &#35774;&#32622;&#37038;&#20214;&#20027;&#39064;:
message.setSubject("Hello", "UTF-8");
// &#35774;&#32622;&#37038;&#20214;&#27491;&#25991;:
message.setText("Hi Xiaoming...", "UTF-8");
// &#21457;&#36865;:
Transport.send(message);
</code></pre>
<p>&#32477;&#22823;&#22810;&#25968;&#37038;&#20214;&#26381;&#21153;&#22120;&#35201;&#27714;&#21457;&#36865;&#26041;&#22320;&#22336;&#21644;&#30331;&#24405;&#29992;&#25143;&#21517;&#24517;&#39035;&#19968;&#33268;&#65292;&#21542;&#21017;&#21457;&#36865;&#23558;&#22833;&#36133;&#12290;</p>
<p>&#22635;&#20837;&#30495;&#23454;&#30340;&#22320;&#22336;&#65292;&#36816;&#34892;&#19978;&#36848;&#20195;&#30721;&#65292;&#25105;&#20204;&#21487;&#20197;&#22312;&#25511;&#21046;&#21488;&#30475;&#21040;JavaMail&#25171;&#21360;&#30340;&#35843;&#35797;&#20449;&#24687;&#65306;</p>
<pre><code class="language-nohighlight"><span style="color:red">&#36825;&#26159;JavaMail&#25171;&#21360;&#30340;&#35843;&#35797;&#20449;&#24687;:</span>
DEBUG: setDebug: JavaMail version 1.6.2
DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]
DEBUG SMTP: need username and password for authentication
DEBUG SMTP: protocolConnect returning false, host=smtp.office365.com, ...
DEBUG SMTP: useEhlo true, useAuth true
<span style="color:red">&#24320;&#22987;&#23581;&#35797;&#36830;&#25509;smtp.office365.com:</span>
DEBUG SMTP: trying to connect to host "smtp.office365.com", port 587, ...
DEBUG SMTP: connected to host "smtp.office365.com", port: 587
<span style="color:red">&#21457;&#36865;&#21629;&#20196;EHLO:</span>
EHLO localhost
<span style="color:red">SMTP&#26381;&#21153;&#22120;&#21709;&#24212;250:</span>
250-SG3P274CA0024.outlook.office365.com Hello
250-SIZE 157286400
...
DEBUG SMTP: Found extension "SIZE", arg "157286400"
<span style="color:red">&#21457;&#36865;&#21629;&#20196;STARTTLS:</span>
STARTTLS
<span style="color:red">SMTP&#26381;&#21153;&#22120;&#21709;&#24212;220:</span>
220 2.0.0 SMTP server ready
EHLO localhost
250-SG3P274CA0024.outlook.office365.com Hello [111.196.164.63]
250-SIZE 157286400
250-PIPELINING
250-...
DEBUG SMTP: Found extension "SIZE", arg "157286400"
...
<span style="color:red">&#23581;&#35797;&#30331;&#24405;:</span>
DEBUG SMTP: protocolConnect login, host=smtp.office365.com, user=********, password=********
DEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 
DEBUG SMTP: Using mechanism LOGIN
DEBUG SMTP: AUTH LOGIN command trace suppressed
<span style="color:red">&#30331;&#24405;&#25104;&#21151;:</span>
DEBUG SMTP: AUTH LOGIN succeeded
DEBUG SMTP: use8bit false
<span style="color:red">&#24320;&#21457;&#21457;&#36865;&#37038;&#20214;&#65292;&#35774;&#32622;FROM:</span>
MAIL FROM:&lt;********@outlook.com&gt;
250 2.1.0 Sender OK
<span style="color:red">&#35774;&#32622;TO:</span>
RCPT TO:&lt;********@sina.com&gt;
250 2.1.5 Recipient OK
<span style="color:red">&#21457;&#36865;&#37038;&#20214;&#25968;&#25454;:</span>
DATA
<span style="color:red">&#26381;&#21153;&#22120;&#21709;&#24212;354:</span>
354 Start mail input; end with &lt;CRLF&gt;.&lt;CRLF&gt;
<span style="color:red">&#30495;&#27491;&#30340;&#37038;&#20214;&#25968;&#25454;:</span>
Date: Mon, 2 Dec 2019 09:37:52 +0800 (CST)
From: ********@outlook.com
To: ********001@sina.com
Message-ID: &lt;1617791695.0.1575250672483@localhost&gt;
<span style="color:red">&#37038;&#20214;&#20027;&#39064;&#26159;&#32534;&#30721;&#21518;&#30340;&#25991;&#26412;:</span>
Subject: =?UTF-8?Q?JavaMail=E9=82=AE=E4=BB=B6?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64

<span style="color:red">&#37038;&#20214;&#27491;&#25991;&#26159;Base64&#32534;&#30721;&#30340;&#25991;&#26412;:</span>
SGVsbG8sIOi/meaYr+S4gOWwgeadpeiHqmphdmFtYWls55qE6YKu5Lu277yB
.
<span style="color:red">&#37038;&#20214;&#25968;&#25454;&#21457;&#36865;&#23436;&#25104;&#21518;&#65292;&#20197;\r\n.\r\n&#32467;&#26463;&#65292;&#26381;&#21153;&#22120;&#21709;&#24212;250&#34920;&#31034;&#21457;&#36865;&#25104;&#21151;:</span>
250 2.0.0 OK &lt;HK0PR03MB4961.apcprd03.prod.outlook.com&gt; [Hostname=HK0PR03MB4961.apcprd03.prod.outlook.com]
DEBUG SMTP: message successfully delivered to mail server
<span style="color:red">&#21457;&#36865;QUIT&#21629;&#20196;:</span>
QUIT
<span style="color:red">&#26381;&#21153;&#22120;&#21709;&#24212;221&#32467;&#26463;TCP&#36830;&#25509;:</span>
221 2.0.0 Service closing transmission channel
</code></pre>
<p>&#20174;&#19978;&#38754;&#30340;&#35843;&#35797;&#20449;&#24687;&#21487;&#20197;&#30475;&#20986;&#65292;SMTP&#21327;&#35758;&#26159;&#19968;&#20010;&#35831;&#27714;-&#21709;&#24212;&#21327;&#35758;&#65292;&#23458;&#25143;&#31471;&#24635;&#26159;&#21457;&#36865;&#21629;&#20196;&#65292;&#28982;&#21518;&#31561;&#24453;&#26381;&#21153;&#22120;&#21709;&#24212;&#12290;&#26381;&#21153;&#22120;&#21709;&#24212;&#24635;&#26159;&#20197;&#25968;&#23383;&#24320;&#22836;&#65292;&#21518;&#38754;&#30340;&#20449;&#24687;&#25165;&#26159;&#29992;&#20110;&#35843;&#35797;&#30340;&#25991;&#26412;&#12290;&#36825;&#20123;&#21709;&#24212;&#30721;&#24050;&#32463;&#34987;&#23450;&#20041;&#22312;<a href="https://www.iana.org/assignments/smtp-enhanced-status-codes/smtp-enhanced-status-codes.txt">SMTP&#21327;&#35758;</a>&#20013;&#20102;&#65292;&#26597;&#30475;&#20855;&#20307;&#30340;&#21709;&#24212;&#30721;&#23601;&#21487;&#20197;&#30693;&#36947;&#20986;&#38169;&#21407;&#22240;&#12290;</p>
<p>&#22914;&#26524;&#19968;&#20999;&#39034;&#21033;&#65292;&#23545;&#26041;&#23558;&#25910;&#21040;&#19968;&#23553;&#25991;&#26412;&#26684;&#24335;&#30340;&#30005;&#23376;&#37038;&#20214;&#65306;</p>
<p><img src="/static/img/loading.svg" data-src="/files/attachments/1319135805964353/l" alt="javamail-text"></p>
<h3>&#21457;&#36865;HTML&#37038;&#20214;</h3>
<p>&#21457;&#36865;HTML&#37038;&#20214;&#21644;&#25991;&#26412;&#37038;&#20214;&#26159;&#31867;&#20284;&#30340;&#65292;&#21482;&#38656;&#35201;&#25226;&#65306;</p>
<pre><code>message.setText(body, "UTF-8");
</code></pre>
<p>&#25913;&#20026;&#65306;</p>
<pre><code>message.setText(body, "UTF-8", "html");
</code></pre>
<p>&#20256;&#20837;&#30340;<code>body</code>&#26159;&#31867;&#20284;<code>&lt;h1&gt;Hello&lt;/h1&gt;&lt;p&gt;Hi, xxx&lt;/p&gt;</code>&#36825;&#26679;&#30340;HTML&#23383;&#31526;&#20018;&#21363;&#21487;&#12290;</p>
<p>HTML&#37038;&#20214;&#21487;&#20197;&#22312;&#37038;&#20214;&#23458;&#25143;&#31471;&#30452;&#25509;&#26174;&#31034;&#20026;&#32593;&#39029;&#26684;&#24335;&#65306;</p>
<p><img src="/static/img/loading.svg" data-src="/files/attachments/1319168129368129/l" alt="javamail-html"></p>
<h3>&#21457;&#36865;&#38468;&#20214;</h3>
<p>&#35201;&#22312;&#30005;&#23376;&#37038;&#20214;&#20013;&#25658;&#24102;&#38468;&#20214;&#65292;&#25105;&#20204;&#23601;&#19981;&#33021;&#30452;&#25509;&#35843;&#29992;<code>message.setText()</code>&#26041;&#27861;&#65292;&#32780;&#26159;&#35201;&#26500;&#36896;&#19968;&#20010;<code>Multipart</code>&#23545;&#35937;&#65306;</p>
<pre><code>Multipart multipart = new MimeMultipart();
// &#28155;&#21152;text:
BodyPart textpart = new MimeBodyPart();
textpart.setContent(body, "text/html;charset=utf-8");
multipart.addBodyPart(textpart);
// &#28155;&#21152;image:
BodyPart imagepart = new MimeBodyPart();
imagepart.setFileName(fileName);
imagepart.setDataHandler(new DataHandler(new ByteArrayDataSource(input, "application/octet-stream")));
multipart.addBodyPart(imagepart);
// &#35774;&#32622;&#37038;&#20214;&#20869;&#23481;&#20026;multipart:
message.setContent(multipart);
</code></pre>
<p>&#19968;&#20010;<code>Multipart</code>&#23545;&#35937;&#21487;&#20197;&#28155;&#21152;&#33509;&#24178;&#20010;<code>BodyPart</code>&#65292;&#20854;&#20013;&#31532;&#19968;&#20010;<code>BodyPart</code>&#26159;&#25991;&#26412;&#65292;&#21363;&#37038;&#20214;&#27491;&#25991;&#65292;&#21518;&#38754;&#30340;BodyPart&#26159;&#38468;&#20214;&#12290;<code>BodyPart</code>&#20381;&#38752;<code>setContent()</code>&#20915;&#23450;&#28155;&#21152;&#30340;&#20869;&#23481;&#65292;&#22914;&#26524;&#28155;&#21152;&#25991;&#26412;&#65292;&#29992;<code>setContent("...", "text/plain;charset=utf-8")</code>&#28155;&#21152;&#32431;&#25991;&#26412;&#65292;&#25110;&#32773;&#29992;<code>setContent("...", "text/html;charset=utf-8")</code>&#28155;&#21152;HTML&#25991;&#26412;&#12290;&#22914;&#26524;&#28155;&#21152;&#38468;&#20214;&#65292;&#38656;&#35201;&#35774;&#32622;&#25991;&#20214;&#21517;&#65288;&#19981;&#19968;&#23450;&#21644;&#30495;&#23454;&#25991;&#20214;&#21517;&#19968;&#33268;&#65289;&#65292;&#24182;&#19988;&#28155;&#21152;&#19968;&#20010;<code>DataHandler()</code>&#65292;&#20256;&#20837;&#25991;&#20214;&#30340;MIME&#31867;&#22411;&#12290;&#20108;&#36827;&#21046;&#25991;&#20214;&#21487;&#20197;&#29992;<code>application/octet-stream</code>&#65292;Word&#25991;&#26723;&#21017;&#26159;<code>application/msword</code>&#12290;</p>
<p>&#26368;&#21518;&#65292;&#36890;&#36807;<code>setContent()</code>&#25226;<code>Multipart</code>&#28155;&#21152;&#21040;<code>Message</code>&#20013;&#65292;&#21363;&#21487;&#21457;&#36865;&#12290;</p>
<p>&#24102;&#38468;&#20214;&#30340;&#37038;&#20214;&#22312;&#23458;&#25143;&#31471;&#20250;&#34987;&#25552;&#31034;&#19979;&#36733;&#65306;</p>
<p><img src="/static/img/loading.svg" data-src="/files/attachments/1319168278265922/l" alt="javamail-attachment"></p>
<h3>&#21457;&#36865;&#20869;&#23884;&#22270;&#29255;&#30340;HTML&#37038;&#20214;</h3>
<p>&#26377;&#20123;&#31461;&#38795;&#21487;&#33021;&#27880;&#24847;&#21040;&#65292;HTML&#37038;&#20214;&#20013;&#21487;&#20197;&#20869;&#23884;&#22270;&#29255;&#65292;&#36825;&#26159;&#24590;&#20040;&#20570;&#21040;&#30340;&#65311;</p>
<p>&#22914;&#26524;&#32473;&#19968;&#20010;<code>&lt;img src="http://example.com/test.jpg"&gt;</code>&#65292;&#36825;&#26679;&#30340;&#22806;&#37096;&#22270;&#29255;&#38142;&#25509;&#36890;&#24120;&#20250;&#34987;&#37038;&#20214;&#23458;&#25143;&#31471;&#36807;&#28388;&#65292;&#24182;&#25552;&#31034;&#29992;&#25143;&#26174;&#31034;&#22270;&#29255;&#24182;&#19981;&#23433;&#20840;&#12290;&#21482;&#26377;&#20869;&#23884;&#30340;&#22270;&#29255;&#25165;&#33021;&#27491;&#24120;&#22312;&#37038;&#20214;&#20013;&#26174;&#31034;&#12290;</p>
<p>&#20869;&#23884;&#22270;&#29255;&#23454;&#38469;&#19978;&#20063;&#26159;&#19968;&#20010;&#38468;&#20214;&#65292;&#21363;&#37038;&#20214;&#26412;&#36523;&#20063;&#26159;<code>Multipart</code>&#65292;&#20294;&#38656;&#35201;&#20570;&#19968;&#28857;&#39069;&#22806;&#30340;&#22788;&#29702;&#65306;</p>
<pre><code>Multipart multipart = new MimeMultipart();
// &#28155;&#21152;text:
BodyPart textpart = new MimeBodyPart();
textpart.setContent("&lt;h1&gt;Hello&lt;/h1&gt;&lt;p&gt;&lt;img src=\"cid:img01\"&gt;&lt;/p&gt;", "text/html;charset=utf-8");
multipart.addBodyPart(textpart);
// &#28155;&#21152;image:
BodyPart imagepart = new MimeBodyPart();
imagepart.setFileName(fileName);
imagepart.setDataHandler(new DataHandler(new ByteArrayDataSource(input, "image/jpeg")));
// &#19982;HTML&#30340;&lt;img src="cid:img01"&gt;&#20851;&#32852;:
imagepart.setHeader("Content-ID", "&lt;img01&gt;");
multipart.addBodyPart(imagepart);
</code></pre>
<p>&#22312;HTML&#37038;&#20214;&#20013;&#24341;&#29992;&#22270;&#29255;&#26102;&#65292;&#38656;&#35201;&#35774;&#23450;&#19968;&#20010;ID&#65292;&#29992;&#31867;&#20284;<code>&lt;img src=\"cid:img01\"&gt;</code>&#24341;&#29992;&#65292;&#28982;&#21518;&#65292;&#22312;&#28155;&#21152;&#22270;&#29255;&#20316;&#20026;BodyPart&#26102;&#65292;&#38500;&#20102;&#35201;&#27491;&#30830;&#35774;&#32622;MIME&#31867;&#22411;&#65288;&#26681;&#25454;&#22270;&#29255;&#31867;&#22411;&#20351;&#29992;<code>image/jpeg</code>&#25110;<code>image/png</code>&#65289;&#65292;&#36824;&#38656;&#35201;&#35774;&#32622;&#19968;&#20010;Header&#65306;</p>
<pre><code>imagepart.setHeader("Content-ID", "&lt;img01&gt;");
</code></pre>
<p>&#36825;&#20010;ID&#21644;HTML&#20013;&#24341;&#29992;&#30340;ID&#23545;&#24212;&#36215;&#26469;&#65292;&#37038;&#20214;&#23458;&#25143;&#31471;&#23601;&#21487;&#20197;&#27491;&#24120;&#26174;&#31034;&#20869;&#23884;&#22270;&#29255;&#65306;</p>
<p><img src="/static/img/loading.svg" data-src="/files/attachments/1319168829816898/l" alt="javamail-inline"></p>
<h3>&#24120;&#35265;&#38382;&#39064;</h3>
<p>&#22914;&#26524;&#29992;&#25143;&#21517;&#25110;&#21475;&#20196;&#38169;&#35823;&#65292;&#20250;&#23548;&#33268;<code>535</code>&#30331;&#24405;&#22833;&#36133;&#65306;</p>
<pre><code>DEBUG SMTP: AUTH LOGIN failed
Exception in thread "main" javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful [HK0PR03CA0105.apcprd03.prod.outlook.com]
</code></pre>
<p>&#22914;&#26524;&#30331;&#24405;&#29992;&#25143;&#21644;&#21457;&#20214;&#20154;&#19981;&#19968;&#33268;&#65292;&#20250;&#23548;&#33268;<code>554</code>&#25298;&#32477;&#21457;&#36865;&#38169;&#35823;&#65306;</p>
<pre><code>DEBUG SMTP: MessagingException while sending, THROW: 
com.sun.mail.smtp.SMTPSendFailedException: 554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied;
</code></pre>
<p>&#26377;&#20123;&#26102;&#20505;&#65292;&#22914;&#26524;&#37038;&#20214;&#20027;&#39064;&#21644;&#27491;&#25991;&#36807;&#20110;&#31616;&#21333;&#65292;&#20250;&#23548;&#33268;<code>554</code>&#34987;&#35782;&#21035;&#20026;&#22403;&#22334;&#37038;&#20214;&#30340;&#38169;&#35823;&#65306;</p>
<pre><code>DEBUG SMTP: MessagingException while sending, THROW: 
com.sun.mail.smtp.SMTPSendFailedException: 554 DT:SPM
</code></pre>
<h3>&#32451;&#20064;</h3>
<p><a href="https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/Java%E6%95%99%E7%A8%8B/150.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.1255945371526048/40.%E5%8F%91%E9%80%81Email.1319099923693601/network-smtp.zip">&#20351;&#29992;SMTP&#21457;&#36865;&#37038;&#20214;</a></p>
<h3>&#23567;&#32467;</h3>
<p>&#20351;&#29992;JavaMail API&#21457;&#36865;&#37038;&#20214;&#26412;&#36136;&#19978;&#26159;&#19968;&#20010;MUA&#36719;&#20214;&#36890;&#36807;SMTP&#21327;&#35758;&#21457;&#36865;&#37038;&#20214;&#33267;MTA&#26381;&#21153;&#22120;&#65307;</p>
<p>&#25171;&#24320;&#35843;&#35797;&#27169;&#24335;&#21487;&#20197;&#30475;&#21040;&#35814;&#32454;&#30340;SMTP&#20132;&#20114;&#20449;&#24687;&#65307;</p>
<p>&#26576;&#20123;&#37038;&#20214;&#26381;&#21153;&#21830;&#38656;&#35201;&#24320;&#21551;SMTP&#65292;&#24182;&#38656;&#35201;&#29420;&#31435;&#30340;SMTP&#30331;&#24405;&#23494;&#30721;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
