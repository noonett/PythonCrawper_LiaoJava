<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>JDBC&#26356;&#26032;</h4>
    <div class="x-wiki-info">
    	<span>Reads: 5593</span>
    	<a href="/manage/wiki/wikipage_update?id=1321748475674658" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<p>&#25968;&#25454;&#24211;&#25805;&#20316;&#24635;&#32467;&#36215;&#26469;&#23601;&#22235;&#20010;&#23383;&#65306;&#22686;&#21024;&#25913;&#26597;&#65292;&#34892;&#35805;&#21483;CRUD&#65306;Create&#65292;Retrieve&#65292;Update&#21644;Delete&#12290;</p>
<p>&#26597;&#23601;&#26159;&#26597;&#35810;&#65292;&#25105;&#20204;&#24050;&#32463;&#35762;&#36807;&#20102;&#65292;&#23601;&#26159;&#20351;&#29992;<code>PreparedStatement</code>&#36827;&#34892;&#21508;&#31181;<code>SELECT</code>&#65292;&#28982;&#21518;&#22788;&#29702;&#32467;&#26524;&#38598;&#12290;&#29616;&#22312;&#25105;&#20204;&#26469;&#30475;&#30475;&#22914;&#20309;&#20351;&#29992;JDBC&#36827;&#34892;&#22686;&#21024;&#25913;&#12290;</p>
<h3>&#25554;&#20837;</h3>
<p>&#25554;&#20837;&#25805;&#20316;&#26159;<code>INSERT</code>&#65292;&#21363;&#25554;&#20837;&#19968;&#26465;&#26032;&#35760;&#24405;&#12290;&#36890;&#36807;JDBC&#36827;&#34892;&#25554;&#20837;&#65292;&#26412;&#36136;&#19978;&#20063;&#26159;&#29992;<code>PreparedStatement</code>&#25191;&#34892;&#19968;&#26465;SQL&#35821;&#21477;&#65292;&#19981;&#36807;&#26368;&#21518;&#25191;&#34892;&#30340;&#19981;&#26159;<code>executeQuery()</code>&#65292;&#32780;&#26159;<code>executeUpdate()</code>&#12290;&#31034;&#20363;&#20195;&#30721;&#22914;&#19979;&#65306;</p>
<pre><code>try (Connection conn = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD) {
    try (PreparedStatement ps = conn.prepareStatement(
            "INSERT INTO students (id, grade, name, gender) VALUES (?,?,?,?)")) {
        ps.setObject(1, 999); // &#27880;&#24847;&#65306;&#32034;&#24341;&#20174;1&#24320;&#22987;
        ps.setObject(2, 1); // grade
        ps.setObject(3, "Bob"); // name
        ps.setObject(4, "M"); // gender
        int n = ps.executeUpdate(); // 1
    }
}
</code></pre>
<p>&#35774;&#32622;&#21442;&#25968;&#19982;&#26597;&#35810;&#26159;&#19968;&#26679;&#30340;&#65292;&#26377;&#20960;&#20010;<code>?</code>&#21344;&#20301;&#31526;&#23601;&#24517;&#39035;&#35774;&#32622;&#23545;&#24212;&#30340;&#21442;&#25968;&#12290;&#34429;&#28982;<code>Statement</code>&#20063;&#21487;&#20197;&#25191;&#34892;&#25554;&#20837;&#25805;&#20316;&#65292;&#20294;&#25105;&#20204;&#20173;&#28982;&#35201;&#20005;&#26684;&#36981;&#24490;<em>&#32477;&#19981;&#33021;&#25163;&#21160;&#25340;SQL&#23383;&#31526;&#20018;</em>&#30340;&#21407;&#21017;&#65292;&#20197;&#36991;&#20813;&#23433;&#20840;&#28431;&#27934;&#12290;</p>
<p>&#24403;&#25104;&#21151;&#25191;&#34892;<code>executeUpdate()</code>&#21518;&#65292;&#36820;&#22238;&#20540;&#26159;<code>int</code>&#65292;&#34920;&#31034;&#25554;&#20837;&#30340;&#35760;&#24405;&#25968;&#37327;&#12290;&#27492;&#22788;&#24635;&#26159;<code>1</code>&#65292;&#22240;&#20026;&#21482;&#25554;&#20837;&#20102;&#19968;&#26465;&#35760;&#24405;&#12290;</p>
<h3>&#25554;&#20837;&#24182;&#33719;&#21462;&#20027;&#38190;</h3>
<p>&#22914;&#26524;&#25968;&#25454;&#24211;&#30340;&#34920;&#35774;&#32622;&#20102;&#33258;&#22686;&#20027;&#38190;&#65292;&#37027;&#20040;&#22312;&#25191;&#34892;<code>INSERT</code>&#35821;&#21477;&#26102;&#65292;&#24182;&#19981;&#38656;&#35201;&#25351;&#23450;&#20027;&#38190;&#65292;&#25968;&#25454;&#24211;&#20250;&#33258;&#21160;&#20998;&#37197;&#20027;&#38190;&#12290;&#23545;&#20110;&#20351;&#29992;&#33258;&#22686;&#20027;&#38190;&#30340;&#31243;&#24207;&#65292;&#26377;&#20010;&#39069;&#22806;&#30340;&#27493;&#39588;&#65292;&#23601;&#26159;&#22914;&#20309;&#33719;&#21462;&#25554;&#20837;&#21518;&#30340;&#33258;&#22686;&#20027;&#38190;&#30340;&#20540;&#12290;</p>
<p>&#35201;&#33719;&#21462;&#33258;&#22686;&#20027;&#38190;&#65292;&#19981;&#33021;&#20808;&#25554;&#20837;&#65292;&#20877;&#26597;&#35810;&#12290;&#22240;&#20026;&#20004;&#26465;SQL&#25191;&#34892;&#26399;&#38388;&#21487;&#33021;&#26377;&#21035;&#30340;&#31243;&#24207;&#20063;&#25554;&#20837;&#20102;&#21516;&#19968;&#20010;&#34920;&#12290;&#33719;&#21462;&#33258;&#22686;&#20027;&#38190;&#30340;&#27491;&#30830;&#20889;&#27861;&#26159;&#22312;&#21019;&#24314;<code>PreparedStatement</code>&#30340;&#26102;&#20505;&#65292;&#25351;&#23450;&#19968;&#20010;<code>RETURN_GENERATED_KEYS</code>&#26631;&#24535;&#20301;&#65292;&#34920;&#31034;JDBC&#39537;&#21160;&#24517;&#39035;&#36820;&#22238;&#25554;&#20837;&#30340;&#33258;&#22686;&#20027;&#38190;&#12290;&#31034;&#20363;&#20195;&#30721;&#22914;&#19979;&#65306;</p>
<pre><code>try (Connection conn = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD) {
    try (PreparedStatement ps = conn.prepareStatement(
            "INSERT INTO students (grade, name, gender) VALUES (?,?,?)",
            Statement.RETURN_GENERATED_KEYS)) {
        ps.setObject(1, 1); // grade
        ps.setObject(2, "Bob"); // name
        ps.setObject(3, "M"); // gender
        int n = ps.executeUpdate(); // 1
        try (ResultSet rs = ps.getGeneratedKeys()) {
            if (rs.next()) {
                long id = rs.getLong(1); // &#27880;&#24847;&#65306;&#32034;&#24341;&#20174;1&#24320;&#22987;
            }
        }
    }
}
</code></pre>
<p>&#35266;&#23519;&#19978;&#36848;&#20195;&#30721;&#65292;&#26377;&#20004;&#28857;&#27880;&#24847;&#20107;&#39033;&#65306;</p>
<p>&#19968;&#26159;&#35843;&#29992;<code>prepareStatement()</code>&#26102;&#65292;&#31532;&#20108;&#20010;&#21442;&#25968;&#24517;&#39035;&#20256;&#20837;&#24120;&#37327;<code>Statement.RETURN_GENERATED_KEYS</code>&#65292;&#21542;&#21017;JDBC&#39537;&#21160;&#19981;&#20250;&#36820;&#22238;&#33258;&#22686;&#20027;&#38190;&#65307;</p>
<p>&#20108;&#26159;&#25191;&#34892;<code>executeUpdate()</code>&#26041;&#27861;&#21518;&#65292;&#24517;&#39035;&#35843;&#29992;<code>getGeneratedKeys()</code>&#33719;&#21462;&#19968;&#20010;<code>ResultSet</code>&#23545;&#35937;&#65292;&#36825;&#20010;&#23545;&#35937;&#21253;&#21547;&#20102;&#25968;&#25454;&#24211;&#33258;&#21160;&#29983;&#25104;&#30340;&#20027;&#38190;&#30340;&#20540;&#65292;&#35835;&#21462;&#35813;&#23545;&#35937;&#30340;&#27599;&#19968;&#34892;&#26469;&#33719;&#21462;&#33258;&#22686;&#20027;&#38190;&#30340;&#20540;&#12290;&#22914;&#26524;&#19968;&#27425;&#25554;&#20837;&#22810;&#26465;&#35760;&#24405;&#65292;&#37027;&#20040;&#36825;&#20010;<code>ResultSet</code>&#23545;&#35937;&#23601;&#20250;&#26377;&#22810;&#34892;&#36820;&#22238;&#20540;&#12290;&#22914;&#26524;&#25554;&#20837;&#26102;&#26377;&#22810;&#21015;&#33258;&#22686;&#65292;&#37027;&#20040;<code>ResultSet</code>&#23545;&#35937;&#30340;&#27599;&#19968;&#34892;&#37117;&#20250;&#23545;&#24212;&#22810;&#20010;&#33258;&#22686;&#20540;&#65288;&#33258;&#22686;&#21015;&#19981;&#19968;&#23450;&#24517;&#39035;&#26159;&#20027;&#38190;&#65289;&#12290;</p>
<h3>&#26356;&#26032;</h3>
<p>&#26356;&#26032;&#25805;&#20316;&#26159;<code>UPDATE</code>&#35821;&#21477;&#65292;&#23427;&#21487;&#20197;&#19968;&#27425;&#26356;&#26032;&#33509;&#24178;&#21015;&#30340;&#35760;&#24405;&#12290;&#26356;&#26032;&#25805;&#20316;&#21644;&#25554;&#20837;&#25805;&#20316;&#22312;JDBC&#20195;&#30721;&#30340;&#23618;&#38754;&#19978;&#23454;&#38469;&#19978;&#27809;&#26377;&#21306;&#21035;&#65292;&#38500;&#20102;SQL&#35821;&#21477;&#19981;&#21516;&#65306;</p>
<pre><code>try (Connection conn = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD) {
    try (PreparedStatement ps = conn.prepareStatement("UPDATE students SET name=? WHERE id=?")) {
        ps.setObject(1, "Bob"); // &#27880;&#24847;&#65306;&#32034;&#24341;&#20174;1&#24320;&#22987;
        ps.setObject(2, 999);
        int n = ps.executeUpdate(); // &#36820;&#22238;&#26356;&#26032;&#30340;&#34892;&#25968;
    }
}
</code></pre>
<p><code>executeUpdate()</code>&#36820;&#22238;&#25968;&#25454;&#24211;&#23454;&#38469;&#26356;&#26032;&#30340;&#34892;&#25968;&#12290;&#36820;&#22238;&#32467;&#26524;&#21487;&#33021;&#26159;&#27491;&#25968;&#65292;&#20063;&#21487;&#33021;&#26159;0&#65288;&#34920;&#31034;&#27809;&#26377;&#20219;&#20309;&#35760;&#24405;&#26356;&#26032;&#65289;&#12290;</p>
<h3>&#21024;&#38500;</h3>
<p>&#21024;&#38500;&#25805;&#20316;&#26159;<code>DELETE</code>&#35821;&#21477;&#65292;&#23427;&#21487;&#20197;&#19968;&#27425;&#21024;&#38500;&#33509;&#24178;&#21015;&#12290;&#21644;&#26356;&#26032;&#19968;&#26679;&#65292;&#38500;&#20102;SQL&#35821;&#21477;&#19981;&#21516;&#22806;&#65292;JDBC&#20195;&#30721;&#37117;&#26159;&#30456;&#21516;&#30340;&#65306;</p>
<pre><code>try (Connection conn = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD) {
    try (PreparedStatement ps = conn.prepareStatement("DELETE FROM students WHERE id=?")) {
        ps.setObject(1, 999); // &#27880;&#24847;&#65306;&#32034;&#24341;&#20174;1&#24320;&#22987;
        int n = ps.executeUpdate(); // &#21024;&#38500;&#30340;&#34892;&#25968;
    }
}
</code></pre>
<h3>&#32451;&#20064;</h3>
<p><a href="https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/Java%E6%95%99%E7%A8%8B/170.JDBC%E7%BC%96%E7%A8%8B.1255943820274272/30.JDBC%E6%9B%B4%E6%96%B0.1321748475674658/jdbc-update.zip">&#20351;&#29992;JDBC&#26356;&#26032;&#25968;&#25454;&#24211;</a></p>
<h3>&#23567;&#32467;</h3>
<p>&#20351;&#29992;JDBC&#25191;&#34892;<code>INSERT</code>&#12289;<code>UPDATE</code>&#21644;<code>DELETE</code>&#37117;&#21487;&#35270;&#20026;&#26356;&#26032;&#25805;&#20316;&#65307;</p>
<p>&#26356;&#26032;&#25805;&#20316;&#20351;&#29992;<code>PreparedStatement</code>&#30340;<code>executeUpdate()</code>&#36827;&#34892;&#65292;&#36820;&#22238;&#21463;&#24433;&#21709;&#30340;&#34892;&#25968;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
