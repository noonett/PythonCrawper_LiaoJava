<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>&#25509;&#25910;Email</h4>
    <div class="x-wiki-info">
    	<span>Reads: 5204</span>
    	<a href="/manage/wiki/wikipage_update?id=1319099948859426" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<p>&#21457;&#36865;Email&#30340;&#36807;&#31243;&#25105;&#20204;&#22312;&#19978;&#19968;&#33410;&#24050;&#32463;&#35762;&#36807;&#20102;&#65292;&#23458;&#25143;&#31471;&#24635;&#26159;&#36890;&#36807;SMTP&#21327;&#35758;&#25226;&#37038;&#20214;&#21457;&#36865;&#32473;MTA&#12290;</p>
<p>&#25509;&#25910;Email&#21017;&#30456;&#21453;&#65292;&#22240;&#20026;&#37038;&#20214;&#26368;&#32456;&#21040;&#36798;&#25910;&#20214;&#20154;&#30340;MDA&#26381;&#21153;&#22120;&#65292;&#25152;&#20197;&#65292;&#25509;&#25910;&#37038;&#20214;&#26159;&#25910;&#20214;&#20154;&#29992;&#33258;&#24049;&#30340;&#23458;&#25143;&#31471;&#25226;&#37038;&#20214;&#20174;MDA&#26381;&#21153;&#22120;&#19978;&#25235;&#21462;&#21040;&#26412;&#22320;&#30340;&#36807;&#31243;&#12290;</p>
<p>&#25509;&#25910;&#37038;&#20214;&#20351;&#29992;&#26368;&#24191;&#27867;&#30340;&#21327;&#35758;&#26159;POP3&#65306;Post Office Protocol version 3&#65292;&#23427;&#20063;&#26159;&#19968;&#20010;&#24314;&#31435;&#22312;TCP&#36830;&#25509;&#20043;&#19978;&#30340;&#21327;&#35758;&#12290;POP3&#26381;&#21153;&#22120;&#30340;&#26631;&#20934;&#31471;&#21475;&#26159;110&#65292;&#22914;&#26524;&#25972;&#20010;&#20250;&#35805;&#38656;&#35201;&#21152;&#23494;&#65292;&#37027;&#20040;&#20351;&#29992;&#21152;&#23494;&#31471;&#21475;995&#12290;</p>
<p>&#21478;&#19968;&#31181;&#25509;&#25910;&#37038;&#20214;&#30340;&#21327;&#35758;&#26159;IMAP&#65306;Internet Mail Access Protocol&#65292;&#23427;&#20351;&#29992;&#26631;&#20934;&#31471;&#21475;143&#21644;&#21152;&#23494;&#31471;&#21475;993&#12290;IMAP&#21644;POP3&#30340;&#20027;&#35201;&#21306;&#21035;&#26159;&#65292;IMAP&#21327;&#35758;&#22312;&#26412;&#22320;&#30340;&#25152;&#26377;&#25805;&#20316;&#37117;&#20250;&#33258;&#21160;&#21516;&#27493;&#21040;&#26381;&#21153;&#22120;&#19978;&#65292;&#24182;&#19988;&#65292;IMAP&#21487;&#20197;&#20801;&#35768;&#29992;&#25143;&#22312;&#37038;&#20214;&#26381;&#21153;&#22120;&#30340;&#25910;&#20214;&#31665;&#20013;&#21019;&#24314;&#25991;&#20214;&#22841;&#12290;</p>
<p>JavaMail&#20063;&#25552;&#20379;&#20102;IMAP&#21327;&#35758;&#30340;&#25903;&#25345;&#12290;&#22240;&#20026;POP3&#21644;IMAP&#30340;&#20351;&#29992;&#26041;&#24335;&#38750;&#24120;&#31867;&#20284;&#65292;&#22240;&#27492;&#25105;&#20204;&#21482;&#20171;&#32461;POP3&#30340;&#29992;&#27861;&#12290;</p>
<p>&#20351;&#29992;POP3&#25910;&#21462;Email&#26102;&#65292;&#25105;&#20204;&#26080;&#38656;&#20851;&#24515;POP3&#21327;&#35758;&#24213;&#23618;&#65292;&#22240;&#20026;JavaMail&#25552;&#20379;&#20102;&#39640;&#23618;&#25509;&#21475;&#12290;&#39318;&#20808;&#38656;&#35201;&#36830;&#25509;&#21040;Store&#23545;&#35937;&#65306;</p>
<pre><code>// &#20934;&#22791;&#30331;&#24405;&#20449;&#24687;:
String host = "pop3.example.com";
int port = 995;
String username = "bob@example.com";
String password = "password";

Properties props = new Properties();
props.setProperty("mail.store.protocol", "pop3"); // &#21327;&#35758;&#21517;&#31216;
props.setProperty("mail.pop3.host", host);// POP3&#20027;&#26426;&#21517;
props.setProperty("mail.pop3.port", String.valueOf(port)); // &#31471;&#21475;&#21495;
// &#21551;&#21160;SSL:
props.put("mail.smtp.socketFactory.class", "javax.net.ssl.SSLSocketFactory");
props.put("mail.smtp.socketFactory.port", String.valueOf(port));

// &#36830;&#25509;&#21040;Store:
URLName url = new URLName("pop3", host, post, "", username, password);
Session session = Session.getInstance(props, null);
session.setDebug(true); // &#26174;&#31034;&#35843;&#35797;&#20449;&#24687;
Store store = new POP3SSLStore(session, url);
store.connect();
</code></pre>
<p>&#19968;&#20010;<code>Store</code>&#23545;&#35937;&#34920;&#31034;&#25972;&#20010;&#37038;&#31665;&#30340;&#23384;&#20648;&#65292;&#35201;&#25910;&#21462;&#37038;&#20214;&#65292;&#25105;&#20204;&#38656;&#35201;&#36890;&#36807;<code>Store</code>&#35775;&#38382;&#25351;&#23450;&#30340;<code>Folder</code>&#65288;&#25991;&#20214;&#22841;&#65289;&#65292;&#36890;&#24120;&#26159;<code>INBOX</code>&#34920;&#31034;&#25910;&#20214;&#31665;&#65306;</p>
<pre><code>// &#33719;&#21462;&#25910;&#20214;&#31665;:
Folder folder = store.getFolder("INBOX");
// &#20197;&#35835;&#20889;&#26041;&#24335;&#25171;&#24320;:
folder.open(Folder.READ_WRITE);
// &#25171;&#21360;&#37038;&#20214;&#24635;&#25968;/&#26032;&#37038;&#20214;&#25968;&#37327;/&#26410;&#35835;&#25968;&#37327;/&#24050;&#21024;&#38500;&#25968;&#37327;:
System.out.println("Total messages: " + folder.getMessageCount());
System.out.println("New messages: " + folder.getNewMessageCount());
System.out.println("Unread messages: " + folder.getUnreadMessageCount());
System.out.println("Deleted messages: " + folder.getDeletedMessageCount());
// &#33719;&#21462;&#27599;&#19968;&#23553;&#37038;&#20214;:
Message[] messages = folder.getMessages();
for (Message message : messages) {
    // &#25171;&#21360;&#27599;&#19968;&#23553;&#37038;&#20214;:
    printMessage((MimeMessage) message);
}
</code></pre>
<p>&#24403;&#25105;&#20204;&#33719;&#21462;&#21040;&#19968;&#20010;<code>Message</code>&#23545;&#35937;&#26102;&#65292;&#21487;&#20197;&#24378;&#21046;&#36716;&#22411;&#20026;MimeMessage&#65292;&#28982;&#21518;&#25171;&#21360;&#20986;&#37038;&#20214;&#20027;&#39064;&#12289;&#21457;&#20214;&#20154;&#12289;&#25910;&#20214;&#20154;&#31561;&#20449;&#24687;&#65306;</p>
<pre><code>void printMessage(MimeMessage msg) throws IOException, MessagingException {
    // &#37038;&#20214;&#20027;&#39064;:
    System.out.println("Subject: " + MimeUtility.decodeText(msg.getSubject()));
    // &#21457;&#20214;&#20154;:
    Address[] froms = msg.getFrom();
    InternetAddress address = (InternetAddress) froms[0];
    String personal = address.getPersonal();
    String from = personal == null ? address.getAddress() : (MimeUtility.decodeText(personal) + " &lt;" + address.getAddress() + "&gt;");
    System.out.println("From: " + from);
    // &#32487;&#32493;&#25171;&#21360;&#25910;&#20214;&#20154;:
    ...
}
</code></pre>
<p>&#27604;&#36739;&#40635;&#28902;&#30340;&#26159;&#33719;&#21462;&#37038;&#20214;&#30340;&#27491;&#25991;&#12290;&#19968;&#20010;<code>MimeMessage</code>&#23545;&#35937;&#20063;&#26159;&#19968;&#20010;<code>Part</code>&#23545;&#35937;&#65292;&#23427;&#21487;&#33021;&#21482;&#21253;&#21547;&#19968;&#20010;&#25991;&#26412;&#65292;&#20063;&#21487;&#33021;&#26159;&#19968;&#20010;<code>Multipart</code>&#23545;&#35937;&#65292;&#21363;&#30001;&#20960;&#20010;<code>Part</code>&#26500;&#25104;&#65292;&#22240;&#27492;&#65292;&#38656;&#35201;&#36882;&#24402;&#22320;&#35299;&#26512;&#20986;&#23436;&#25972;&#30340;&#27491;&#25991;&#65306;</p>
<pre><code>String getBody(Part part) throws MessagingException, IOException {
    if (part.isMimeType("text/*")) {
        // Part&#26159;&#25991;&#26412;:
        return part.getContent().toString();
    }
    if (part.isMimeType("multipart/*")) {
        // Part&#26159;&#19968;&#20010;Multipart&#23545;&#35937;:
        Multipart multipart = (Multipart) part.getContent();
        // &#24490;&#29615;&#35299;&#26512;&#27599;&#20010;&#23376;Part:
        for (int i = 0; i &lt; multipart.getCount(); i++) {
            BodyPart bodyPart = multipart.getBodyPart(i);
            String body = getBody(bodyPart);
            if (!body.isEmpty()) {
                return body;
            }
        }
    }
    return "";
}
</code></pre>
<p>&#26368;&#21518;&#35760;&#24471;&#20851;&#38381;<code>Folder</code>&#21644;<code>Store</code>&#65306;</p>
<pre><code>folder.close(true); // &#20256;&#20837;true&#34920;&#31034;&#21024;&#38500;&#25805;&#20316;&#20250;&#21516;&#27493;&#21040;&#26381;&#21153;&#22120;&#19978;&#65288;&#21363;&#21024;&#38500;&#26381;&#21153;&#22120;&#25910;&#20214;&#31665;&#30340;&#37038;&#20214;&#65289;
store.close();
</code></pre>
<h3>&#32451;&#20064;</h3>
<p><a href="https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/Java%E6%95%99%E7%A8%8B/150.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.1255945371526048/50.%E6%8E%A5%E6%94%B6Email.1319099948859426/network-pop3.zip">&#20351;&#29992;POP3&#25509;&#25910;&#37038;&#20214;</a></p>
<h3>&#23567;&#32467;</h3>
<p>&#20351;&#29992;Java&#25509;&#25910;Email&#26102;&#65292;&#21487;&#20197;&#29992;POP3&#21327;&#35758;&#25110;IMAP&#21327;&#35758;&#12290;</p>
<p>&#20351;&#29992;POP3&#21327;&#35758;&#26102;&#65292;&#38656;&#35201;&#29992;Maven&#24341;&#20837;JavaMail&#20381;&#36182;&#65292;&#24182;&#30830;&#23450;POP3&#26381;&#21153;&#22120;&#30340;&#22495;&#21517;&#65295;&#31471;&#21475;&#65295;&#26159;&#21542;&#20351;&#29992;SSL&#31561;&#65292;&#28982;&#21518;&#65292;&#35843;&#29992;&#30456;&#20851;API&#25509;&#25910;Email&#12290;</p>
<p>&#35774;&#32622;debug&#27169;&#24335;&#21487;&#20197;&#26597;&#30475;&#36890;&#20449;&#35814;&#32454;&#20869;&#23481;&#65292;&#20415;&#20110;&#25490;&#26597;&#38169;&#35823;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
