<div class="uk-flex-item-1" style="padding-left:15px; ">
							<div id="x-content-top">
								<!-- __snippet__.contentTop -->
																<!-- // __snippet__.contentTop -->
							</div>
							<div id="x-content">
								    <h4>&#20351;&#29992;Fixture</h4>
    <div class="x-wiki-info">
    	<span>Reads: 35953</span>
    	<a href="/manage/wiki/wikipage_update?id=1304049490067490" target="_blank" class="x-can-edit uk-text-danger">Edit</a>
</div>

    <hr>

    <div class="x-wiki-content x-main-content">
<p>&#22312;&#19968;&#20010;&#21333;&#20803;&#27979;&#35797;&#20013;&#65292;&#25105;&#20204;&#32463;&#24120;&#32534;&#20889;&#22810;&#20010;<code>@Test</code>&#26041;&#27861;&#65292;&#26469;&#20998;&#32452;&#12289;&#20998;&#31867;&#23545;&#30446;&#26631;&#20195;&#30721;&#36827;&#34892;&#27979;&#35797;&#12290;</p>
<p>&#22312;&#27979;&#35797;&#30340;&#26102;&#20505;&#65292;&#25105;&#20204;&#32463;&#24120;&#36935;&#21040;&#19968;&#20010;&#23545;&#35937;&#38656;&#35201;&#21021;&#22987;&#21270;&#65292;&#27979;&#35797;&#23436;&#21487;&#33021;&#36824;&#38656;&#35201;&#28165;&#29702;&#30340;&#24773;&#20917;&#12290;&#22914;&#26524;&#27599;&#20010;<code>@Test</code>&#26041;&#27861;&#37117;&#20889;&#19968;&#36941;&#36825;&#26679;&#30340;&#37325;&#22797;&#20195;&#30721;&#65292;&#26174;&#28982;&#27604;&#36739;&#40635;&#28902;&#12290;</p>
<p>JUnit&#25552;&#20379;&#20102;&#32534;&#20889;&#27979;&#35797;&#21069;&#20934;&#22791;&#12289;&#27979;&#35797;&#21518;&#28165;&#29702;&#30340;&#22266;&#23450;&#20195;&#30721;&#65292;&#25105;&#20204;&#31216;&#20043;&#20026;Fixture&#12290;</p>
<p>&#25105;&#20204;&#26469;&#30475;&#19968;&#20010;&#20855;&#20307;&#30340;<code>Calculator</code>&#30340;&#20363;&#23376;&#65306;</p>
<pre><code>public class Calculator {
    private long n = 0;

    public long add(long x) {
        n = n + x;
        return n;
    }

    public long sub(long x) {
        n = n - x;
        return n;
    }
}
</code></pre>
<p>&#36825;&#20010;&#31867;&#30340;&#21151;&#33021;&#24456;&#31616;&#21333;&#65292;&#20294;&#26159;&#27979;&#35797;&#30340;&#26102;&#20505;&#65292;&#25105;&#20204;&#35201;&#20808;&#21021;&#22987;&#21270;&#23545;&#35937;&#65292;&#25105;&#20204;&#19981;&#24517;&#22312;&#27599;&#20010;&#27979;&#35797;&#26041;&#27861;&#20013;&#37117;&#20889;&#19978;&#21021;&#22987;&#21270;&#20195;&#30721;&#65292;&#32780;&#26159;&#36890;&#36807;<code>@BeforeEach</code>&#26469;&#21021;&#22987;&#21270;&#65292;&#36890;&#36807;<code>@AfterEach</code>&#26469;&#28165;&#29702;&#36164;&#28304;&#65306;</p>
<pre><code>public class CalculatorTest {

    Calculator calculator;

    @BeforeEach
    public void setUp() {
        this.calculator = new Calculator();
    }

    @AfterEach
    public void tearDown() {
        this.calculator = null;
    }

    @Test
    void testAdd() {
        assertEquals(100, this.calculator.add(100));
        assertEquals(150, this.calculator.add(50));
        assertEquals(130, this.calculator.add(-20));
    }

    @Test
    void testSub() {
        assertEquals(-100, this.calculator.sub(100));
        assertEquals(-150, this.calculator.sub(50));
        assertEquals(-130, this.calculator.sub(-20));
    }
}
</code></pre>
<p>&#22312;<code>CalculatorTest</code>&#27979;&#35797;&#20013;&#65292;&#26377;&#20004;&#20010;&#26631;&#35760;&#20026;<code>@BeforeEach</code>&#21644;<code>@AfterEach</code>&#30340;&#26041;&#27861;&#65292;&#23427;&#20204;&#20250;&#22312;&#36816;&#34892;&#27599;&#20010;<code>@Test</code>&#26041;&#27861;&#21069;&#21518;&#33258;&#21160;&#36816;&#34892;&#12290;</p>
<p>&#19978;&#38754;&#30340;&#27979;&#35797;&#20195;&#30721;&#22312;JUnit&#20013;&#36816;&#34892;&#39034;&#24207;&#22914;&#19979;&#65306;</p>
<pre><code>for (Method testMethod : findTestMethods(CalculatorTest.class)) {
    var test = new CalculatorTest(); // &#21019;&#24314;Test&#23454;&#20363;
    invokeBeforeEach(test);
        invokeTestMethod(test, testMethod);
    invokeAfterEach(test);
}
</code></pre>
<p>&#21487;&#35265;&#65292;<code>@BeforeEach</code>&#21644;<code>@AfterEach</code>&#20250;&#8220;&#29615;&#32469;&#8221;&#22312;&#27599;&#20010;<code>@Test</code>&#26041;&#27861;&#21069;&#21518;&#12290;</p>
<p>&#36824;&#26377;&#19968;&#20123;&#36164;&#28304;&#21021;&#22987;&#21270;&#21644;&#28165;&#29702;&#21487;&#33021;&#26356;&#21152;&#32321;&#29712;&#65292;&#32780;&#19988;&#20250;&#32791;&#36153;&#36739;&#38271;&#30340;&#26102;&#38388;&#65292;&#20363;&#22914;&#21021;&#22987;&#21270;&#25968;&#25454;&#24211;&#12290;JUnit&#36824;&#25552;&#20379;&#20102;<code>@BeforeAll</code>&#21644;<code>@AfterAll</code>&#65292;&#23427;&#20204;&#22312;&#36816;&#34892;&#25152;&#26377;@Test&#21069;&#21518;&#36816;&#34892;&#65292;&#39034;&#24207;&#22914;&#19979;&#65306;</p>
<pre><code>invokeBeforeAll(CalculatorTest.class);
for (Method testMethod : findTestMethods(CalculatorTest.class)) {
    var test = new CalculatorTest(); // &#21019;&#24314;Test&#23454;&#20363;
    invokeBeforeEach(test);
        invokeTestMethod(test, testMethod);
    invokeAfterEach(test);
}
invokeAfterAll(CalculatorTest.class);
</code></pre>
<p>&#22240;&#20026;<code>@BeforeAll</code>&#21644;<code>@AfterAll</code>&#22312;&#25152;&#26377;<code>@Test</code>&#26041;&#27861;&#36816;&#34892;&#21069;&#21518;&#20165;&#36816;&#34892;&#19968;&#27425;&#65292;&#22240;&#27492;&#65292;&#23427;&#20204;&#21482;&#33021;&#21021;&#22987;&#21270;&#38745;&#24577;&#21464;&#37327;&#65292;&#20363;&#22914;&#65306;</p>
<pre><code>public class DatabaseTest {
    static Database db;

    @BeforeAll
    public static void initDatabase() {
        db = createDb(...);
    }
    
    @AfterAll
    public static void dropDatabase() {
        ...
    }
}
</code></pre>
<p>&#20107;&#23454;&#19978;&#65292;<code>@BeforeAll</code>&#21644;<code>@AfterAll</code>&#20063;&#21482;&#33021;&#26631;&#27880;&#22312;&#38745;&#24577;&#26041;&#27861;&#19978;&#12290;</p>
<p>&#22240;&#27492;&#65292;&#25105;&#20204;&#24635;&#32467;&#20986;&#32534;&#20889;Fixture&#30340;&#22871;&#36335;&#22914;&#19979;&#65306;</p>
<ol>
<li>
<p>&#23545;&#20110;&#23454;&#20363;&#21464;&#37327;&#65292;&#22312;<code>@BeforeEach</code>&#20013;&#21021;&#22987;&#21270;&#65292;&#22312;<code>@AfterEach</code>&#20013;&#28165;&#29702;&#65292;&#23427;&#20204;&#22312;&#21508;&#20010;<code>@Test</code>&#26041;&#27861;&#20013;&#20114;&#19981;&#24433;&#21709;&#65292;&#22240;&#20026;&#26159;&#19981;&#21516;&#30340;&#23454;&#20363;&#65307;</p>
</li>
<li>
<p>&#23545;&#20110;&#38745;&#24577;&#21464;&#37327;&#65292;&#22312;<code>@BeforeAll</code>&#20013;&#21021;&#22987;&#21270;&#65292;&#22312;<code>@AfterAll</code>&#20013;&#28165;&#29702;&#65292;&#23427;&#20204;&#22312;&#21508;&#20010;<code>@Test</code>&#26041;&#27861;&#20013;&#22343;&#26159;&#21807;&#19968;&#23454;&#20363;&#65292;&#20250;&#24433;&#21709;&#21508;&#20010;<code>@Test</code>&#26041;&#27861;&#12290;</p>
</li>
</ol>
<p>&#22823;&#22810;&#25968;&#24773;&#20917;&#19979;&#65292;&#20351;&#29992;<code>@BeforeEach</code>&#21644;<code>@AfterEach</code>&#23601;&#36275;&#22815;&#20102;&#12290;&#21482;&#26377;&#26576;&#20123;&#27979;&#35797;&#36164;&#28304;&#21021;&#22987;&#21270;&#32791;&#36153;&#26102;&#38388;&#22826;&#38271;&#65292;&#20197;&#33267;&#20110;&#25105;&#20204;&#19981;&#24471;&#19981;&#23613;&#37327;&#8220;&#22797;&#29992;&#8221;&#26102;&#25165;&#20250;&#29992;&#21040;<code>@BeforeAll</code>&#21644;<code>@AfterAll</code>&#12290;</p>
<p>&#26368;&#21518;&#65292;&#27880;&#24847;&#21040;&#27599;&#27425;&#36816;&#34892;&#19968;&#20010;<code>@Test</code>&#26041;&#27861;&#21069;&#65292;JUnit&#39318;&#20808;&#21019;&#24314;&#19968;&#20010;<code>XxxTest</code>&#23454;&#20363;&#65292;&#22240;&#27492;&#65292;&#27599;&#20010;<code>@Test</code>&#26041;&#27861;&#20869;&#37096;&#30340;&#25104;&#21592;&#21464;&#37327;&#37117;&#26159;&#29420;&#31435;&#30340;&#65292;&#19981;&#33021;&#20063;&#26080;&#27861;&#25226;&#25104;&#21592;&#21464;&#37327;&#30340;&#29366;&#24577;&#20174;&#19968;&#20010;<code>@Test</code>&#26041;&#27861;&#24102;&#21040;&#21478;&#19968;&#20010;<code>@Test</code>&#26041;&#27861;&#12290;</p>
<h3>&#32451;&#20064;</h3>
<p><a href="https://gitee.com/liaoxuefeng/learn-java/raw/master/practices/Java%E6%95%99%E7%A8%8B/100.%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.1255945269146912/20.%E4%BD%BF%E7%94%A8Fixture.1304049490067490/junit-fixture.zip">&#20351;&#29992;Fixture</a></p>
<h3>&#23567;&#32467;</h3>
<p>&#32534;&#20889;Fixture&#26159;&#25351;&#38024;&#23545;&#27599;&#20010;<code>@Test</code>&#26041;&#27861;&#65292;&#32534;&#20889;<code>@BeforeEach</code>&#26041;&#27861;&#29992;&#20110;&#21021;&#22987;&#21270;&#27979;&#35797;&#36164;&#28304;&#65292;&#32534;&#20889;<code>@AfterEach</code>&#29992;&#20110;&#28165;&#29702;&#27979;&#35797;&#36164;&#28304;&#65307;</p>
<p>&#24517;&#35201;&#26102;&#65292;&#21487;&#20197;&#32534;&#20889;<code>@BeforeAll</code>&#21644;<code>@AfterAll</code>&#65292;&#20351;&#29992;&#38745;&#24577;&#21464;&#37327;&#26469;&#21021;&#22987;&#21270;&#32791;&#26102;&#30340;&#36164;&#28304;&#65292;&#24182;&#19988;&#22312;&#25152;&#26377;<code>@Test</code>&#26041;&#27861;&#30340;&#36816;&#34892;&#21069;&#21518;&#20165;&#25191;&#34892;&#19968;&#27425;&#12290;</p>
</div>

    <hr>

    <div class="x-wiki-prev-next uk-clearfix"></div>

    <div class="x-anchor x-comment-anchor"><a name="comments"></a></div>
							</div>
							<div id="x-content-bottom">
								<!-- __snippet__.contentBottom -->
								<div id="sponsor-a" class="uk-margin-bottom"></div>
								<!-- // __snippet__.contentBottom -->
							</div>
							<div id="x-content-comment">
								    <h3>Comments</h3>

    <ul id="x-comment-list" class="uk-comment-list">
    </ul>

    <h3>Make a comment</h3>

    <div class="x-display-if-not-signin">
        <p><button type="button" class="uk-button" onclick="showSignin()"><i class="uk-icon-signin"></i> Sign in to make a comment</button></p>
    </div>

    <div id="x-comment-area"></div>

							</div>
						</div>
											
